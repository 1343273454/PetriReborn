"petri_cop_trap"
{
  "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
  "BaseClass"           "ability_datadriven"
  "MaxLevel" "1"
  "AbilityTextureName"      ""

  "AbilitySpecial"
  {
    "01"
    {
      "var_type"          "FIELD_INTEGER"
      "attack_slow"       "-25"
    }
    "02"
    {
      "var_type"          "FIELD_INTEGER"
      "move_slow"         "-60"
    }
  }

  "OnUpgrade"
  {
    "DelayedAction"
    {
      "Delay"     "0.2"
      "Action"    
      {
        "ApplyModifier"
        {
          "ModifierName"  "modifier_cop_trap"
          "Target"     "CASTER"
        }
      }
    }
  }
  
  "Modifiers"
  {
    "modifier_poison"
    {
      "Duration"  "5"
      "IsDebuff"  "1"
      "IsHidden"  "1"

      "Attributes" "MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"

      "EffectName"    "particles/units/heroes/hero_viper/viper_viper_strike_debuff.vpcf"
      "EffectAttachType"  "follow_origin"

      "Properties"
      {
        "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"  "%attack_slow"
        "MODIFIER_PROPERTY_MOVESPEED_BONUS_CONSTANT"    "%move_slow"
      }
    }
    "modifier_cop_trap"
    {
      "Passive"     "1"
      "IsHidden"      "1"
      "Attributes" "MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE | MODIFIER_ATTRIBUTE_PERMANENT"

      "EffectName"            "particles/items_fx/blademail.vpcf"
      "EffectAttachType"      "follow_origin"

      "OnAttacked"
      {
        "RunScript"
        {
          "ScriptFile"  "units/cop_trap.lua"
          "Function"    "OnAttacked"
        }
      }
    }
  }
}