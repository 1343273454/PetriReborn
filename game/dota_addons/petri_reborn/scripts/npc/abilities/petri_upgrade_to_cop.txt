"petri_upgrade_to_cop"
{
  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
  "BaseClass"           "ability_datadriven"
  "AbilityTextureName"      "petri_upgrade_to_cop"
  "AbilityCastAnimation"      "ACT_DOTA_DEATH"

  "AbilityGoldCost"       "50"

  "MaxLevel"            "1"

  "precache"
  {
    "particle"    "particles/units/heroes/hero_techies/techies_suicide_base.vpcf"
  }

  "OnSpellStart"
  {
    "FireEffect"
    {
      "EffectName"        "particles/units/heroes/hero_techies/techies_suicide_base.vpcf"
      "EffectAttachType"  "follow_origin"
      "Target"            "CASTER"
    }
    "RunScript"
    {
      "ScriptFile"      "units/cop.lua"
      "Function"        "SpawnCop"
    }
    "RunScript"
    {
      "ScriptFile"      "units/peasant.lua"
      "Function"        "Suicide"
    }
  }
}
