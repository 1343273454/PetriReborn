"DOTAAbilities"
{
	"building_queue"
	{
	  "BaseClass"                 "ability_datadriven"
	  "MaxLevel"            "1"
	
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
	
	  "Modifiers"
	  {
	    "modifier_building_queue"
	    {
	      "Passive"     "1"
	      "IsHidden"      "1"
	  
	      "ThinkInterval"  "0.03"
	      "OnIntervalThink"
	      {
	        "RunScript"
	        {
	          "ScriptFile"  "buildings/queue.lua"
	          "Function"    "AdvanceQueue"
	        }
	      }
	    }
	
	    "modifier_grounded_passive"
	    {
	      "Passive"     "1"
	      "IsHidden"      "1"
	  
	      "States"
	      {
	        "MODIFIER_STATE_ROOTED"   "MODIFIER_STATE_VALUE_ENABLED"
	      }
	    }
	  }
	}
	"build_petri_cop_trap"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "build_petri_cop_trap"
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	
	  // BuildingHelper info
	  "Building"            "1" //bool
	  "BuildingSize"          "2" // this is (3x64) by (3x64) units, so 9 squares.
	  "BuildTime"           "5.0"
	  "AbilityCastRange"        "100"
	  "UpdateHealth"          "1" //bool
	  "Scale"             "1" //bool
	  "PlayerCanControl"        "1" //bool. Should the player issuing this build command be able to control the building once built?
	  //"CancelsBuildingGhost"      "0" //bool
	  // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
	  "UnitName"            "npc_petri_cop_trap"
	  "AbilityCooldown"       "0"
	  "AbilityGoldCost"       "100"
	  // End of BuildingHelper info
	
	  "AbilityCastPoint"        "0.0"
	  "MaxLevel"            "1"
	  
	  "AbilityManaCost"       "0"
	  
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "buildings/bh_abilities.lua"
	      "Function"        "build"
	    }
	  }
	}
	"build_petri_exit"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "build_petri_exit"
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	
	  "AbilitySpecial"
	  {
	    "01"
	    { 
	        "var_type"  "FIELD_INTEGER"
	        "lumber_cost" "99999"
	    }
	  }
	
	  // BuildingHelper info
	  "Building"            "1" //bool
	  "BuildingSize"          "2" // this is (3x64) by (3x64) units, so 9 squares.
	  "BuildTime"           "600.0"
	  "AbilityCastRange"        "100"
	  "UpdateHealth"          "1" //bool
	  "Scale"             "1" //bool
	  "PlayerCanControl"        "1" //bool. Should the player issuing this build command be able to control the building once built?
	  //"CancelsBuildingGhost"      "0" //bool
	  // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
	  "UnitName"            "npc_petri_exit"
	  "AbilityCooldown"       "480.0"
	  "AbilityGoldCost"       "5750"
	  // End of BuildingHelper info
	
	  "AbilityCastPoint"        "0.0"
	  "MaxLevel"            "1"
	
	  // Item Info
	  
	  "AbilityManaCost"       "0"
	  
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "buildings/bh_abilities.lua"
	      "Function"        "build"
	    }
	  }
	}
	"build_petri_exploration_tree"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "build_petri_exploration_tree"
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	  // BuildingHelper info
	  "Building"            "1" //bool
	  "BuildingSize"          "2" // this is (3x64) by (3x64) units, so 9 squares.
	  "BuildTime"           "10.0"
	  "AbilityCastRange"        "100"
	  "UpdateHealth"          "1" //bool
	  "Scale"             "1" //bool
	  "PlayerCanControl"        "1" //bool. Should the player issuing this build command be able to control the building once built?
	  //"CancelsBuildingGhost"      "0" //bool
	  // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
	  "UnitName"            "npc_petri_exploration_tree"
	  "AbilityCooldown"       "0"
	  "AbilityGoldCost"       "300"
	  // End of BuildingHelper info
	
	  "AbilityCastPoint"        "0.0"
	  "MaxLevel"            "1"
	
	  // Item Info
	  
	  "AbilityManaCost"       "0"
	  
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "buildings/bh_abilities.lua"
	      "Function"        "build"
	    }
	  }
	}
	"build_petri_gold_tower"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "build_petri_gold_tower"
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	
	  "AbilitySpecial"
	  {
	    "01"
	    { 
	        "var_type"  "FIELD_INTEGER"
	        "food_cost" "25"
	    }
	    "02"
	    { 
	        "var_type"  "FIELD_INTEGER"
	        "lumber_cost" "3250"
	    }
	  }
	
	  // BuildingHelper info
	  "Building"            "1" //bool
	  "BuildingSize"          "2" // this is (3x64) by (3x64) units, so 9 squares.
	  "BuildTime"           "3.5"
	  "AbilityCastRange"        "100"
	  "UpdateHealth"          "1" //bool
	  "Scale"             "1" //bool
	  "PlayerCanControl"        "1" //bool. Should the player issuing this build command be able to control the building once built?
	  //"CancelsBuildingGhost"      "0" //bool
	  // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
	  "UnitName"            "npc_petri_gold_tower"
	  "AbilityCooldown"       "0"
	  "AbilityGoldCost"       "0"
	  // End of BuildingHelper info
	
	  "AbilityCastPoint"        "0.0"
	  "MaxLevel"            "1"
	
	  "AbilityManaCost"       "0"
	  
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "buildings/bh_abilities.lua"
	      "Function"        "build"
	    }
	  }
	}
	"build_petri_idol"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "build_petri_idol"
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	
	  "AbilitySpecial"
	  {
	    "01"
	    { 
	        "var_type"  "FIELD_INTEGER"
	        "lumber_cost" "4000"
	    }
	  }
	
	  // BuildingHelper info
	  "Building"            "1" //bool
	  "BuildingSize"          "2" // this is (3x64) by (3x64) units, so 9 squares.
	  "BuildTime"           "6.5"
	  "AbilityCastRange"        "100"
	  "UpdateHealth"          "1" //bool
	  "Scale"             "1" //bool
	  "PlayerCanControl"        "1" //bool. Should the player issuing this build command be able to control the building once built?
	  //"CancelsBuildingGhost"      "0" //bool
	  // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
	  "UnitName"            "npc_petri_idol"
	  "AbilityCooldown"       "0"
	  "AbilityGoldCost"       "100"
	  // End of BuildingHelper info
	
	  "AbilityCastPoint"        "0.0"
	  "MaxLevel"            "1"
	
	  // Item Info
	  
	  "AbilityManaCost"       "0"
	  
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "buildings/bh_abilities.lua"
	      "Function"        "build"
	    }
	  }
	}
	"build_petri_lab"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "build_petri_lab"
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	
	  "AbilitySpecial"
	  {
	    "01"
	    { 
	        "var_type"  "FIELD_INTEGER"
	        "lumber_cost" "1500"
	    }
	  }
	
	  // BuildingHelper info
	  "Building"            "1" //bool
	  "BuildingSize"          "2" // this is (3x64) by (3x64) units, so 9 squares.
	  "BuildTime"           "5.0"
	  "AbilityCastRange"        "100"
	  "UpdateHealth"          "1" //bool
	  "Scale"             "1" //bool
	  "PlayerCanControl"        "1" //bool. Should the player issuing this build command be able to control the building once built?
	  //"CancelsBuildingGhost"      "0" //bool
	  // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
	  "UnitName"            "npc_petri_lab"
	  "AbilityCooldown"       "0"
	  "AbilityGoldCost"       "50"
	  // End of BuildingHelper info
	
	  "AbilityCastPoint"        "0.0"
	  "MaxLevel"            "1"
	
	  // Item Info
	  
	  "AbilityManaCost"       "0"
	  
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "buildings/bh_abilities.lua"
	      "Function"        "build"
	    }
	  }
	}
	"build_petri_sawmill"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "npc_petri_sawmill"
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	
	  // BuildingHelper info
	  "Building"            "1" //bool
	  "BuildingSize"          "2" // this is (3x64) by (3x64) units, so 9 squares.
	  "BuildTime"           "2.0"
	  "AbilityCastRange"        "100"
	  "UpdateHealth"          "1" //bool
	  "Scale"             "1" //bool
	  "PlayerCanControl"        "1" //bool. Should the player issuing this build command be able to control the building once built?
	  //"CancelsBuildingGhost"      "0" //bool
	  // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
	  "UnitName"            "npc_petri_sawmill"
	  "AbilityCooldown"       "0"
	  "AbilityGoldCost"       "0"
	  // End of BuildingHelper info
	
	  "AbilityCastPoint"        "0.0"
	  "MaxLevel"            "1"
	
	  // Item Info
	  
	  "AbilityManaCost"       "0"
	  
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "buildings/bh_abilities.lua"
	      "Function"        "build"
	    }
	  }
	}
	"build_petri_tent"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "build_petri_tent"
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	
	  // BuildingHelper info
	  "Building"            "1" //bool
	  "BuildingSize"          "2" // this is (3x64) by (3x64) units, so 9 squares.
	  "BuildTime"           "2.0"
	  "AbilityCastRange"        "100"
	  "UpdateHealth"          "1" //bool
	  "Scale"             "1" //bool
	  "PlayerCanControl"        "1" //bool. Should the player issuing this build command be able to control the building once built?
	  //"CancelsBuildingGhost"      "0" //bool
	  // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
	  "UnitName"            "npc_petri_tent"
	  "AbilityCooldown"       "0"
	  "AbilityGoldCost"       "0"
	  // End of BuildingHelper info
	
	  "AbilityCastPoint"        "0.0"
	  "MaxLevel"            "1"
	
	  // Item Info
	  
	  "AbilityManaCost"       "0"
	  
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "buildings/bh_abilities.lua"
	      "Function"        "build"
	    }
	  }
	}
	"build_petri_tower_basic"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "build_petri_tower_basic"
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	
	  "AbilitySpecial"
	  {
	    "01"
	    { 
	        "var_type"  "FIELD_INTEGER"
	        "lumber_cost" "50"
	    }
	  }
	
	  // BuildingHelper info
	  "Building"            "1" //bool
	  "BuildingSize"          "2" // this is (3x64) by (3x64) units, so 9 squares.
	  "BuildTime"           "2.0"
	  "AbilityCastRange"        "100"
	  "UpdateHealth"          "1" //bool
	  "Scale"             "1" //bool
	  "PlayerCanControl"        "1" //bool. Should the player issuing this build command be able to control the building once built?
	  //"CancelsBuildingGhost"      "0" //bool
	  // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
	  "UnitName"            "npc_petri_tower_basic"
	  "AbilityCooldown"       "0"
	  "AbilityGoldCost"       "0"
	  // End of BuildingHelper info
	
	  "AbilityCastPoint"        "0.0"
	  "MaxLevel"            "1"
	
	  // Item Info
	  
	  "AbilityManaCost"       "0"
	  
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "buildings/bh_abilities.lua"
	      "Function"        "build"
	    }
	  }
	}
	"build_petri_tower_of_evil"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "build_petri_tower_of_evil"
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	
	  // BuildingHelper info
	  "Building"            "1" //bool
	  "BuildingSize"          "2" // this is (3x64) by (3x64) units, so 9 squares.
	  "BuildTime"           "2.0"
	  "AbilityCastRange"        "100"
	  "UpdateHealth"          "1" //bool
	  "Scale"             "1" //bool
	  "PlayerCanControl"        "1" //bool. Should the player issuing this build command be able to control the building once built?
	  //"CancelsBuildingGhost"      "0" //bool
	  // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
	  "UnitName"            "npc_petri_tower_of_evil"
	  "AbilityCooldown"       "0"
	  "AbilityGoldCost"       "350"
	  // End of BuildingHelper info
	
	  "AbilityCastPoint"        "0.0"
	  "MaxLevel"            "1"
	
	  // Item Info
	  
	  "AbilityManaCost"       "0"
	  
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "buildings/bh_abilities.lua"
	      "Function"        "build"
	    }
	  }
	}
	"build_petri_wall"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "build_petri_wall"
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	
	  "AbilitySpecial"
	  {
	    "01"
	    { 
	        "var_type"  "FIELD_INTEGER"
	        "lumber_cost" "150"
	    }
	  }
	
	  // BuildingHelper info
	  "Building"            "1" //bool
	  "BuildingSize"          "2" // this is (3x64) by (3x64) units, so 9 squares.
	  "BuildTime"           "3.0"
	  "AbilityCastRange"        "100"
	  "UpdateHealth"          "1" //bool
	  "Scale"             "1" //bool
	  "PlayerCanControl"        "1" //bool. Should the player issuing this build command be able to control the building once built?
	  //"CancelsBuildingGhost"      "0" //bool
	  // Note: if unit uses a npc_dota_hero baseclass, you must use the npc_dota_hero name.
	  "UnitName"            "npc_petri_wall"
	  "AbilityCooldown"       "0"
	  "AbilityGoldCost"       "0"
	  // End of BuildingHelper info
	
	  "AbilityCastPoint"        "0.0"
	  "MaxLevel"            "1"
	
	  
	  "AbilityManaCost"       "0"
	  
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "buildings/bh_abilities.lua"
	      "Function"        "build"
	    }
	  }
	}
	"gather_lumber"
	{
	  "BaseClass"                 "ability_datadriven"
	  "AbilityTextureName"      "gather_lumber"
	  "MaxLevel"            "1"
	
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
	  "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_BOTH"
	  "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_TREE | DOTA_UNIT_TARGET_BUILDING"
	
	  "AbilityMultiOrder" "1"
	
	  "AbilityCastPoint"        "0.1"
	
	  "OnAbilityPhaseStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"  "units/peasant.lua"
	      "Function"    "Gather"
	    }
	    "ApplyModifier"
	    {
	      "Target"      "CASTER"
	      "ModifierName"    "modifier_ability_gather_lumber_no_col"
	    }
	  }
	
	  "Modifiers"
	  {
	    "modifier_gather_lumber_rooted"
	    {
	      "Passive"     "0"
	      "IsHidden"      "1"
	      "Attributes" "MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"  
	      "States"
	      {
	        "MODIFIER_STATE_ROOTED"   "MODIFIER_STATE_VALUE_ENABLED"
	        //"MODIFIER_STATE_DISARMED"   "MODIFIER_STATE_VALUE_ENABLED"
	      }
	    }
	
	    "modifier_ability_gather_lumber_no_col"
	    {
	      "Passive"         "1"
	      "IsHidden"          "1"
	      "IsBuff"          "1"
	      "IsDebuff"          "0"
	      "EffectAttachType"      "follow_origin"
	      
	      "States"
	      {
	        "MODIFIER_STATE_NO_UNIT_COLLISION"    "MODIFIER_STATE_VALUE_ENABLED"
	      }
	    }
	
	    "modifier_gathering_lumber"
	    {
	      "IsHidden"        "1"
	        
	      "ThinkInterval"  "0.03"
	      "OnIntervalThink"
	      {
	        "RunScript"
	        {
	          "ScriptFile"  "units/peasant.lua"
	          "Function"    "CheckTreePosition"
	        }
	      }
	
	      "OnOrder"
	      {
	        "RunScript"
	        {
	          "ScriptFile"  "units/peasant.lua"
	          "Function"    "ToggleOffGather"
	          "arg" "modifier_gathering_lumber"
	        }
	      }
	      
	    }
	
	    "modifier_chopping_wood"
	    {
	      "IsHidden"        "1"
	    
	      "OverrideAnimation"   "ACT_DOTA_ATTACK"
	
	      "OnOrder"
	      { 
	        "RunScript"
	        {
	          "ScriptFile"  "units/peasant.lua"
	          "Function"    "ToggleOffGather"
	          "arg" "modifier_chopping_wood"
	        }
	      }
	
	      "ThinkInterval"  "1.0"
	      "OnIntervalThink"
	      {
	        "RunScript"
	        {
	          "ScriptFile"  "units/peasant.lua"
	          "Function"    "Gather100Lumber"
	        }
	
	        "ApplyModifier"
	        {
	          "ModifierName"  "modifier_chopping_wood_animation"
	          "Target"    "CASTER"
	          "Duration"    "0.87"
	        }
	      }   
	    }
	
	    "modifier_chopping_wood_animation"
	    {
	      "OverrideAnimation"     "ACT_DOTA_ATTACK"
	      "IsHidden"        "1"
	      "OnOrder"
	      {
	        "RunScript"
	        {
	          "ScriptFile"  "units/peasant.lua"
	          "Function"    "ToggleOffGather"
	          "arg" "modifier_chopping_wood_animation"
	        }
	      }
	    }
	  }
	}
	"has_build_queue"
	{
	  "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
	  "BaseClass" "ability_datadriven"
	
	  "Modifiers"
	  {
	    "modifier_has_build_queue"
	    {
	      "Passive" "1"
	      "IsHidden"  "1"
	      "OnOrder"
	      {
	        "RunScript"
	        {
	          "ScriptFile"  "buildings/bh_abilities.lua"
	          "Function"    "builder_queue"
	        }
	      }
	    }
	  }
	}
	"move_to_point_100"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT"
	  "BaseClass"           "ability_datadriven"
	  "AbilityCastPoint"        "0"
	  "AbilityCooldown"       "0"
	  "AbilityCastRange"        "100"
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	  "MaxLevel"            "1"
	
	  "AbilityManaCost"       "0"
	
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "Target"    "POINT"
	      "ScriptFile"  "buildings/bh_abilities.lua"
	      "Function"    "create_building_entity"
	    }
	  }
	}
	"move_to_point_150"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT"
	  "BaseClass"           "ability_datadriven"
	  "AbilityCastPoint"        "0"
	  "AbilityCooldown"       "0"
	  "AbilityCastRange"        "150"
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	  "MaxLevel"            "1"
	
	  "AbilityManaCost"       "0"
	
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "Target"    "POINT"
	      "ScriptFile"  "buildings/bh_abilities.lua"
	      "Function"    "create_building_entity"
	    }
	  }
	}
	"move_to_point_200"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT"
	  "BaseClass"           "ability_datadriven"
	  "AbilityCastPoint"        "0"
	  "AbilityCooldown"       "0"
	  "AbilityCastRange"        "200"
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	  "MaxLevel"            "1"
	
	  "AbilityManaCost"       "0"
	
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "Target"    "POINT"
	      "ScriptFile"  "buildings/bh_abilities.lua"
	      "Function"    "create_building_entity"
	    }
	  }
	}
	"move_to_point_250"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT"
	  "BaseClass"           "ability_datadriven"
	  "AbilityCastPoint"        "0"
	  "AbilityCooldown"       "0"
	  "AbilityCastRange"        "250"
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	  "MaxLevel"            "1"
	
	  "AbilityManaCost"       "0"
	
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "Target"    "POINT"
	      "ScriptFile"  "buildings/bh_abilities.lua"
	      "Function"    "create_building_entity"
	    }
	  }
	}
	"move_to_point_300"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT"
	  "BaseClass"           "ability_datadriven"
	  "AbilityCastPoint"        "0"
	  "AbilityCooldown"       "0"
	  "AbilityCastRange"        "300"
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	  "MaxLevel"            "1"
	
	  "AbilityManaCost"       "0"
	
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "Target"    "POINT"
	      "ScriptFile"  "buildings/bh_abilities.lua"
	      "Function"    "create_building_entity"
	    }
	  }
	}
	// END OF BUILDING HELPER ABILITIES
	"move_to_point_70"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT"
	  "BaseClass"           "ability_datadriven"
	  "AbilityCastPoint"        "0"
	  "AbilityCooldown"       "0"
	  "AbilityCastRange"        "70"
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	  "MaxLevel"            "1"
	
	  "AbilityManaCost"       "0"
	
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "Target"    "POINT"
	      "ScriptFile"  "buildings/bh_abilities.lua"
	      "Function"    "create_building_entity"
	    }
	  }
	}
	"petri_building"
	{
	  "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
	  "BaseClass"           "ability_datadriven"
	  "MaxLevel" "1"
	  "AbilityTextureName"      ""
	
	  "OnUpgrade"
	  {
	    "ApplyModifier"
	    {
	      "ModifierName"  "modifier_building"
	      "Target"     "CASTER"
	    }
	  }
	  
	  "Modifiers"
	  {
	    "modifier_building"
	    {
	      "Passive"     "0"
	      "IsHidden"      "1"
	      "Attributes" "MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE | MODIFIER_ATTRIBUTE_PERMANENT"  
	      "States"
	      {
	        "MODIFIER_STATE_MAGIC_IMMUNE" "MODIFIER_STATE_VALUE_ENABLED" // Makes most abilities don't affect this. Use custom damage
	        "MODIFIER_STATE_ROOTED"   "MODIFIER_STATE_VALUE_ENABLED" // Prevents moving
	        "MODIFIER_STATE_NO_UNIT_COLLISION"  "MODIFIER_STATE_VALUE_ENABLED" // GridNav is blocked
	      }
	      "Properties"
	      {
	        "MODIFIER_PROPERTY_DISABLE_TURNING" "1"
	        "MODIFIER_PROPERTY_IGNORE_CAST_ANGLE" "1"
	        "MODIFIER_PROPERTY_MOVESPEED_ABSOLUTE" "0.1"
	      }
	    }
	  }
	}
	
	"petri_animated_tower"
	{
	  "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
	  "BaseClass"           "ability_datadriven"
	  "MaxLevel" "1"
	  "AbilityTextureName"      ""
	  
	  "Modifiers"
	  {
	    "modifier_animated_tower"
	    {
	      "Passive"     "1"
	      "IsHidden"      "1"
	      "Priority"                     "MODIFIER_PRIORITY_ULTRA"
	      "Attributes" "MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE | MODIFIER_ATTRIBUTE_PERMANENT"  
	      "States"
	      {
	        "MODIFIER_STATE_MAGIC_IMMUNE" "MODIFIER_STATE_VALUE_ENABLED"
	        "MODIFIER_STATE_ROOTED"   "MODIFIER_STATE_VALUE_DISABLED" // Prevents moving
	        "MODIFIER_STATE_NO_UNIT_COLLISION"  "MODIFIER_STATE_VALUE_ENABLED"
	      }
	      "Properties"
	      {
	        "MODIFIER_PROPERTY_DISABLE_TURNING" "0"
	        "MODIFIER_PROPERTY_IGNORE_CAST_ANGLE" "0"
	        "MODIFIER_PROPERTY_MOVESPEED_ABSOLUTE" "280"
	      }
	    }
	  }
	}
	"petri_buy_lumber"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "petri_buy_lumber"
	
	  "AbilityCastPoint"        "0.0"
	
	  "AbilityCooldown" "0.1"
	
	  "AbilityGoldCost" "125"
	
	  "MaxLevel"            "1"
	
	  "AbilitySpecial"
	  {
	    "01"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "lumber"      "10000"
	    }
	  }
	
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "units/sawmill.lua"
	      "Function"        "BuyLumber"
	    }
	  }
	}
	"petri_cop"
	{
	  "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
	  "BaseClass"           "ability_datadriven"
	  "MaxLevel" "1"
	  "AbilityTextureName"      ""
	  
	  "Modifiers"
	  {
	    "modifier_cop"
	    {
	      "IsHidden"      "1"
	      "Passive"      "1"
	      "Priority"                     "MODIFIER_PRIORITY_ULTRA"
	      "Attributes" "MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE | MODIFIER_ATTRIBUTE_PERMANENT"
	
	      "States"
	      {
	        "MODIFIER_STATE_NO_UNIT_COLLISION" "MODIFIER_STATE_VALUE_ENABLED"
	        "MODIFIER_STATE_LOW_ATTACK_PRIORITY"      "MODIFIER_STATE_VALUE_ENABLED"
	      }
	    }
	  }
	}
	"petri_cop_trap"
	{
	  "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
	  "BaseClass"           "ability_datadriven"
	  "MaxLevel" "2"
	  "AbilityTextureName"      ""
	
	  "AbilitySpecial"
	  {
	    "01"
	    {
	      "var_type"      "FIELD_INTEGER"
	      "duration"      "5 10"
	    }
	  }
	
	  "AbilitySpecial"
	  {
	    "01"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "attack_slow"       "-25 -50"
	    }
	    "02"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "move_slow"         "-60 -100"
	    }
	  }
	
	  "OnUpgrade"
	  {
	    "DelayedAction"
	    {
	      "Delay"     "0.2"
	      "Action"    
	      {
	        "ApplyModifier"
	        {
	          "ModifierName"  "modifier_cop_trap"
	          "Target"     "CASTER"
	        }
	      }
	    }
	  }
	  
	  "Modifiers"
	  {
	    "modifier_poison"
	    {
	      "Duration"  "%duration"
	      "IsDebuff"  "1"
	      "IsHidden"  "1"
	
	      "Attributes" "MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"
	
	      "EffectName"    "particles/units/heroes/hero_viper/viper_viper_strike_debuff.vpcf"
	      "EffectAttachType"  "follow_origin"
	
	      "Properties"
	      {
	        "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"  "%attack_slow"
	        "MODIFIER_PROPERTY_MOVESPEED_BONUS_CONSTANT"    "%move_slow"
	      }
	    }
	    "modifier_cop_trap"
	    {
	      "Passive"     "1"
	      "IsHidden"      "1"
	      "Attributes" "MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE | MODIFIER_ATTRIBUTE_PERMANENT"
	
	      "EffectName"            "particles/items_fx/blademail.vpcf"
	      "EffectAttachType"      "follow_origin"
	
	      "OnAttacked"
	      {
	        "RunScript"
	        {
	          "ScriptFile"  "units/cop_trap.lua"
	          "Function"    "OnAttacked"
	        }
	      }
	    }
	  }
	}
	
	"petri_upgrade_cop_trap"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
	  "BaseClass"           "ability_datadriven"
	  "MaxLevel" "1"
	  "AbilityTextureName"      "rattletrap_power_cogs"
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	
	  "AbilityCastPoint"        "0.0"
	
	  "AbilityManaCost"       "0"
	  "AbilityChannelTime"      "4.5"
	  "AbilityUpgradeGoldCost"    "0"
	
	  "AbilityGoldCost" "1500"
	
	  "precache"
	  {
	    "particle"  "particles/items_fx/immunity_sphere_buff.vpcf"
	  }
	
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "StartUpgrading"
	    }
	  }
	
	  "OnChannelInterrupted"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "StopUpgrading"
	    }
	  }
	  
	  "OnChannelSucceeded"
	  {
	    "RunScript"
	    {
	      "ScriptFile"  "units/cop_trap.lua"
	      "Function"    "Upgrade"
	    }
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "OnUpgradeSucceeded"
	    }
	    "ApplyModifier"
	    {
	      "ModifierName"  "modifier_upgraded"
	      "Target"     "CASTER"
	    }
	  }
	  
	  "Modifiers"
	  {
	    "modifier_upgraded"
	    {
	      "IsBuff"  "1"
	      "IsHidden"  "1"
	
	      "Attributes" "MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE | MODIFIER_ATTRIBUTE_PERMANENT"
	
	      "Priority"                     "MODIFIER_PRIORITY_ULTRA"
	
	      "EffectName"              "particles/items_fx/immunity_sphere_buff.vpcf"
	      "EffectAttachType"        "PATTACH_ABSORIGIN"
	
	      "States"
	      {
	        "MODIFIER_STATE_MAGIC_IMMUNE"    "MODIFIER_STATE_VALUE_DISABLED"
	      }
	    }
	  }
	}
	"petri_creep_pendant"
	{
	  "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE"
	  "AbilityUnitTargetTeam"         "DOTA_UNIT_TARGET_TEAM_ENEMY"
	  "AbilityUnitTargetType"         "DOTA_UNIT_TARGET_ALL"
	  "AbilityUnitTargetFlag"         "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
	  "AbilityUnitDamageType"         "DAMAGE_TYPE_PHYSICAL"
	  "SpellImmunityType"             "SPELL_IMMUNITY_ENEMIES_YES"
	  "BaseClass"           "ability_datadriven"
	  "MaxLevel" "1"
	  "AbilityTextureName"            "rubick_empty1" 
	
	  "AbilitySpecial"
	  {
	    "01"
	    {
	      "var_type"      "FIELD_INTEGER"
	      "damage"      "117999"
	    }
	  }
	
	  "OnProjectileHitUnit"
	  {
	    "DeleteOnHit"   "1"
	
	    "RunScript"
	    {
	      "ScriptFile"    "units/creep.lua"
	      "Function"      "SplitShotDamage"
	    }
	  }
	  
	  "Modifiers"
	  {
	    "modifier_pendant"
	    {
	      "Passive"     "1"
	      "IsHidden"      "1"
	      "Attributes" "MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE | MODIFIER_ATTRIBUTE_PERMANENT"
	
	      "OnAttack"
	      {
	        "RunScript"
	        {
	          "ScriptFile"    "units/creep.lua"
	          "Function"      "SplitShot"
	          "projectile" "particles/units/heroes/hero_razor/razor_base_attack.vpcf"
	        }
	      } 
	      
	      "OnAttacked"
	      {
	        "Heal"
	        {
	          "Target"        "CASTER"
	          "HealAmount"  "%attack_damage"
	        }
	      }
	
	      "States"
	      {
	        "MODIFIER_STATE_MAGIC_IMMUNE" "MODIFIER_STATE_VALUE_ENABLED" // Makes most abilities don't affect this. Use custom damage
	        "MODIFIER_STATE_ROOTED"   "MODIFIER_STATE_VALUE_ENABLED" // Prevents moving
	        //"MODIFIER_STATE_LOW_ATTACK_PRIORITY" "MODIFIER_STATE_VALUE_ENABLED" // Makes it a secondary target when A-clicking ground
	      }
	      "Properties"
	      {
	        "MODIFIER_PROPERTY_DISABLE_TURNING" "1"
	        "MODIFIER_PROPERTY_IGNORE_CAST_ANGLE" "1"
	        "MODIFIER_PROPERTY_MOVESPEED_ABSOLUTE" "0.1"
	      }
	    }
	  }
	}
	"petri_creep_swipes"
	{
	  "BaseClass"             "ability_datadriven"
	  "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
	  "AbilityUnitDamageType"         "DAMAGE_TYPE_PHYSICAL"
	  "SpellImmunityType"             "SPELL_IMMUNITY_ENEMIES_YES"
	          
	  "AbilitySpecial"
	  {
	    "01"
	    {
	      "var_type"                      "FIELD_INTEGER"
	      "reset_time"                    "10"
	    }
	    "02"
	    {
	      "var_type"                      "FIELD_INTEGER"
	      "max_stacks"                    "25"
	    }
	  }
	
	  "precache"
	  {
	      "particle"                          "particles/units/heroes/hero_ursa/ursa_fury_swipes.vpcf"
	      "particle"                          "particles/units/heroes/hero_ursa/ursa_fury_swipes_debuff.vpcf"
	  }
	  
	  "Modifiers"
	  {
	    "modifier_creep_swipes_caster"
	    {
	      "Passive"                       "1"
	      "IsHidden"                      "1"
	      "IsPurgable"                    "0"
	    
	      "OnAttackLanded"
	      {
	        "RunScript"
	        {
	          "ScriptFile"            "units/creep.lua"
	          "Function"              "Attack"
	        }
	      }
	
	      "OnCreated"
	      {
	        "RunScript"
	        {
	          "ScriptFile"            "units/creep.lua"
	          "Function"              "ApplyDamageReduction"
	        }
	      }
	    }
	
	    "modifier_damage_reduction"
	    {
	      "Passive"      "0"
	      "IsHidden"      "1"
	      "IsDebuff"      "0"
	    
	      "Properties"
	      {
	        "MODIFIER_PROPERTY_BASEATTACK_BONUSDAMAGE" "-1"
	      }
	    }
	    
	    "modifier_creep_swipes_target"
	    {
	      "IsHidden"                  "1"
	      "IsPurgable"                "0"
	      "IsDebuff"                  "1"
	
	      "EffectName"                "particles/units/heroes/hero_ursa/ursa_fury_swipes_debuff.vpcf"
	      "EffectAttachType"          "follow_overhead"
	      
	      "OnCreated"
	      {
	        "AttachEffect"
	        {
	          "Target"                "TARGET"
	          "EffectName"            "particles/units/heroes/hero_ursa/ursa_fury_swipes.vpcf"
	          "EffectAttachType"      "follow_overhead"
	        }
	      }
	    }
	  }
	}
	"petri_earth_wall_passive"
	{
	  "BaseClass" "ability_datadriven"
	  "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE"
	  "AbilityTextureName"            "earth_spirit_geomagnetic_grip"
	
	  "MaxLevel"            "10"
	
	  "precache"
	  {
	    "particle"  "particles/units/heroes/hero_earth_spirit/espirit_magnetized_ring.vpcf"
	    "particle"  "particles/units/heroes/hero_earth_spirit/espirit_magnetize_target.vpcf"
	    "particle"  "particles/econ/events/ti4/bottle_ti4.vpcf"
	    "soundfile" "soundevents/game_sounds_heroes/game_sounds_earth_spirit.vsndevts"
	    "soundfile" "soundevents/game_sounds_heroes/game_sounds_earthshaker.vsndevts"
	  }
	
	  "AbilitySpecial"
	  {
	    "01"
	    {
	      "var_type"      "FIELD_INTEGER"
	      "stun_chance"      "0 0 0 0 0 0 0 20 25 30"
	    }
	    "02"
	    {
	      "var_type"      "FIELD_INTEGER"
	      "regen_cooldown"      "20"
	    }
	    "03"
	    {
	      "var_type"          "FIELD_FLOAT"
	      "regeneration"        "2.5 5.0 10.0 20.0 30.0 40.0 50.0 60.0 80.0"
	    }
	    "04"
	    {
	      "var_type"      "FIELD_INTEGER"
	      "stun_cooldown"      "20"
	    }
	    "05"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "damage"        "45 80 170 345 650 1000 2000 4000 5000"
	    }
	    "06"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "attack_range_bonus"        "600 600 600 600 600 600 600 20 20 20"
	    }
	  }
	
	  "OnUpgrade"
	  {
	    "ApplyModifier"
	    {
	      "ModifierName"  "modifier_earth_regen"
	      "Target"     "CASTER"
	    }
	    "ApplyModifier"
	    {
	      "ModifierName"  "modifier_earth_stun"
	      "Target"     "CASTER"
	    }
	  }
	  
	  "Modifiers"
	  {
	    "modifier_earth_passive"
	    {
	      "Passive" "1"
	      "IsHidden"                  "1"
	      "IsBuff"                     "1"
	
	      "OnCreated"
	      {
	        "AttachEffect"
	        {
	          "EffectName"        "particles/units/heroes/hero_earth_spirit/espirit_ambient.vpcf"
	          "EffectAttachType"  "follow_origin"
	          "Target"            "CASTER"
	        }
	      }
	
	      "OnAttacked"
	      {
	        "RemoveModifier"
	        {
	          "ModifierName"  "modifier_earth_attacked"
	          "Target"     "CASTER"
	        }
	        "RemoveModifier"
	        {
	          "ModifierName"  "modifier_earth_regen"
	          "Target"     "CASTER"
	        }
	
	        "ApplyModifier"
	        {
	          "ModifierName"  "modifier_earth_attacked"
	          "Target"     "CASTER"
	        }
	      }
	
	      "Properties"
	      {
	        "MODIFIER_PROPERTY_HEALTH_REGEN_CONSTANT" "%regeneration"
	        "MODIFIER_PROPERTY_BASEATTACK_BONUSDAMAGE" "%damage"
	        "MODIFIER_PROPERTY_ATTACK_RANGE_BONUS"  "%attack_range_bonus"
	      }
	    }
	    "modifier_earth_attacked"
	    {
	      "Duration"  "%regen_cooldown"
	      "IsHidden"                  "1"
	      "IsDebuff"                     "1"
	
	      "OnDestroy"
	      {
	        "ApplyModifier"
	        {
	          "ModifierName"  "modifier_earth_regen"
	          "Target"     "CASTER"
	        }
	        "FireSound"
	        {
	          "EffectName"  "Hero_EarthSpirit.Magnetize.Cast"
	          "Target"     "CASTER"
	        }
	      }
	    }
	    "modifier_earth_regen"
	    {
	      "IsHidden"                  "1"
	      "IsBuff"                     "1"
	
	      "EffectName"     "particles/econ/events/ti4/bottle_ti4.vpcf"      
	      "EffectAttachType"  "10"
	
	      "OnDestroy"
	      {
	        "FireSound"
	        {
	          "EffectName"  "Hero_EarthSpirit.Magnetize.End"
	          "Target"     "CASTER"
	        }
	      }
	
	      "Properties"
	      {
	        "MODIFIER_PROPERTY_HEALTH_REGEN_PERCENTAGE" "5.0"
	      }
	    }
	
	    "modifier_earth_stun"
	    {
	      "IsHidden"                  "1"
	      "IsBuff"                     "1"
	
	      "OnAttackLanded"
	      {
	        "Random"
	        {
	          "Chance"      "%stun_chance"
	          "OnSuccess"
	          {
	            "FireSound"
	            {
	              "EffectName"  "Hero_EarthShaker.Totem"
	              "Target"    "CASTER"
	            }
	            "FireEffect"
	            {
	              "EffectName"        "particles/units/heroes/hero_earth_spirit/espirit_magnetize_target.vpcf"
	              "EffectAttachType"  "follow_origin"
	              "Target"            "TARGET"
	            }
	            "ApplyModifier"
	            {
	              "ModifierName"  "modifier_stunned"
	              "Target"     "TARGET"
	              "Duration"    "1.6"
	            }
	            "RemoveModifier"
	            {
	              "ModifierName"  "modifier_earth_stun"
	              "Target"     "CASTER"
	            }
	            "ApplyModifier"
	            {
	              "ModifierName"  "modifier_earth_stun_cooldown"
	              "Target"     "CASTER"
	            }
	          }
	          "OnFailure"
	          {
	
	          }
	        }
	      }
	    }
	
	    "modifier_earth_stun_cooldown"
	    {
	      "Duration"  "%stun_cooldown"
	      "IsHidden"                  "1"
	      "IsBuff"                     "1"
	
	      "OnDestroy"
	      {
	        "ApplyModifier"
	        {
	          "ModifierName"  "modifier_earth_stun"
	          "Target"     "CASTER"
	        }
	      }
	    }
	  }  
	}
	"petri_empty1"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"
	  "MaxLevel"            "0"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"            "rubick_empty1" 
	
	  "IsHidden"         "1"
	}
	"petri_empty2"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"
	  "MaxLevel"            "0"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"            "rubick_empty1"
	  "IsHidden"         "1"
	}
	"petri_empty3"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"
	  "MaxLevel"            "0"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"            "rubick_empty1"
	  "IsHidden"         "1"
	}
	"petri_empty4"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"
	  "MaxLevel"            "0"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"            "rubick_empty1"
	  "IsHidden"         "1"
	}
	"petri_empty5"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"
	  "MaxLevel"            "0"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"            "rubick_empty1"
	  "IsHidden"         "1"
	}
	"petri_empty6"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"
	  "MaxLevel"            "0"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"            "rubick_empty1"
	  "IsHidden"         "1"
	}
	"petri_sword_attack_sound"
	{
	  "BaseClass"                     "ability_datadriven"
	  "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
	  "SpellImmunityType"             "SPELL_IMMUNITY_ENEMIES_NO"
	
	  "precache"
	  {
	    "soundfile"             "soundevents/game_sounds_heroes/game_sounds_kunkka.vsndevts"
	  }
	    
	  "Modifiers"
	  {
	    "modifier_sword_attack_sound"
	    {
	      "Passive"                       "1"
	      "IsHidden"                      "1"
	      "IsPurgable"                    "0"
	
	      "OnAttackLanded"
	      {
	        "FireSound"
	        {
	          "EffectName"            "Hero_Kunkka.Attack"
	          "Target"                "CASTER"
	        }
	      }
	    }
	  }
	}
	"petri_exit"
	{
	  "BaseClass" "ability_datadriven"
	  "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_HIDDEN"
	  "AbilityTextureName" "build_petri_exit"
	
	  "Modifiers"
	  {
	    "modifier_exit"
	    {
	      "Passive"      "1"
	      "IsHidden"      "1"
	
	      "OnCreated"
	      {
	        "RunScript"
	        {
	          "ScriptFile"  "gamemode.lua"
	          "Function"    "KVNWin"
	        }
	      }
	    }
	  }
	}
	"petri_exploration_tower_explore_world"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "petri_exploration_tree_explore"
	
	  "AbilitySharedWithTeammates" "1"
	
	  "AbilityGoldCost"       "500"
	  "AbilityCooldown"       "25"
	
	  "MaxLevel"            "1"
	
	  "precache"
	  {
	    "particle"    "particles/units/heroes/hero_rattletrap/clock_loadout_sparks.vpcf"
	  }
	
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "units/exploration_tower.lua"
	      "Function"        "ExploreWorld"
	    }
	  }
	}
	"petri_exploration_tree_explore"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "petri_exploration_tree_explore"
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	
	  "AbilityManaCost"       "50"
	
	  "MaxLevel"            "1"
	
	  "precache"
	  {
	    "particle"    "particles/items_fx/dust_of_appearance.vpcf"
	  }
	
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "units/exploration_tree.lua"
	      "Function"        "Explore"
	      "Target"    "POINT"
	    }
	  }
	}
	"petri_get_gold"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_IGNORE_CHANNEL | DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_DONT_RESUME_ATTACK | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "alchemist_goblins_greed"
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	
	  "AbilityCastPoint"        "0.0"
	
	  "AbilityCooldown" "11 10 9 8 8 7 7 6 4"
	
	  "MaxLevel"            "9"
	
	  "precache"
	  {
	    "particle"  "particles/econ/courier/courier_flopjaw_gold/flopjaw_death_coins_gold.vpcf"
	  }
	
	  "AbilitySpecial"
	  {
	    "01"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "gold"      "1 2 4 5 6 7 10 12 14"
	    }
	  }
	
	  "OnUpgrade"
	  {
	    "ApplyModifier"
	    {
	      "Target"       "CASTER"
	      "ModifierName" "modifier_get_gold_autocast"
	    }
	  }
	  
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "units/gold_tower.lua"
	      "Function"        "GetGold"
	      "gold" "%gold"
	    }
	    "FireEffect"
	    {
	      "EffectName"        "particles/econ/courier/courier_flopjaw_gold/flopjaw_death_coins_gold.vpcf"
	      "EffectAttachType"  "follow_overhead"
	      "Target"            "CASTER"
	    }
	  }
	
	  "Modifiers"
	  {
	    "modifier_get_gold_autocast"
	    {
	      "IsHidden"  "1"
	
	      "OnCreated"
	      {
	        "RunScript"
	        {
	          "ScriptFile"    "units/gold_tower.lua"
	          "Function"      "GetGoldAutocast"
	        }
	      }
	
	      "ThinkInterval" "1.03" // Bad solution
	      "OnIntervalThink"
	      {
	        "RunScript"
	        {
	          "ScriptFile"    "units/gold_tower.lua"
	          "Function"      "GetGoldAutocast"
	        }
	      }
	    }
	  }
	}
	"petri_gold_bag_get_gold"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_IGNORE_CHANNEL | DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_DONT_RESUME_ATTACK | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "alchemist_goblins_greed"
	
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	  "AbilityCastPoint"        "0.0"
	  "AbilityCooldown"        "6.025"
	
	  "MaxLevel"            "1"
	
	  "OnUpgrade"
	  {
	    "ApplyModifier"
	    {
	      "Target"       "CASTER"
	      "ModifierName" "modifier_gold_bag_get_gold_autocast"
	    }
	  }
	  
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "units/gold_bag.lua"
	      "Function"        "GetGold"
	    }
	  }
	
	  "Modifiers"
	  {
	    "modifier_gold_bag_get_gold_autocast"
	    {
	      "IsHidden"  "1"
	
	      "OnCreated"
	      {
	        "RunScript"
	        {
	          "ScriptFile"    "units/gold_bag.lua"
	          "Function"      "GetGoldAutocast"
	        }
	      }
	
	      "ThinkInterval" "6.05" // whatever
	      "OnIntervalThink"
	      {
	        "RunScript"
	        {
	          "ScriptFile"    "units/gold_bag.lua"
	          "Function"      "GetGoldAutocast"
	        }
	      }
	    }
	  }
	}
	
	"petri_upgrade_gold_bag"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_IGNORE_CHANNEL | DOTA_ABILITY_BEHAVIOR_AUTOCAST"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "petri_upgrade_gold_tower"
	
	  "AbilityCastAnimation"      "ACT_DOTA_IDLE"
	  "AbilityCastPoint"        "0.0"
	
	  "MaxLevel"            "1"
	
	  "AbilitySpecial"
	  {
	    "01"
	    {
	      "var_type"      "FIELD_INTEGER"
	      "upgrade_rate"      "90"
	    }
	    "02"
	    {
	      "var_type"      "FIELD_INTEGER"
	      "upgrade_limit"      "305"
	    }
	  }
	
	  "OnUpgrade"
	  {
	    "ApplyModifier"
	    {
	      "Target"       "CASTER"
	      "ModifierName" "modifier_gold_bag"
	    }
	  }
	  
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "units/gold_bag.lua"
	      "Function"        "UpgradeOnce"
	    }
	  }
	
	  "Modifiers"
	  {
	    "modifier_gold_bag"
	    {
	      "IsHidden"  "0"
	      "Passive"   "1"
	    }
	
	    "modifier_gold_bag_upgrading_autocast"
	    {
	      "Passive"   "1"
	      "IsHidden"  "1"
	
	      "ThinkInterval" "1.0"
	      "OnIntervalThink"
	      {
	        "RunScript"
	        {
	          "ScriptFile"    "units/gold_bag.lua"
	          "Function"      "Upgrade"
	        }
	      }
	    }
	  }
	}
	
	"petri_gold_bag_blink"
	{
	  "BaseClass"       "ability_datadriven"
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"
	  "AbilityTextureName"      "antimage_blink"
	
	  "MaxLevel" "1"
	
	  "precache"
	  {
	    "soundfile"   "soundevents/game_sounds_heroes/game_sounds_antimage.vsndevts"
	  }
	
	  "AbilityCastPoint"        "0.0"
	
	  "AbilityCooldown"       "5.0"
	  
	  "AbilityManaCost"       "0"
	  
	  "AbilitySpecial"
	  {
	    "01"
	    {
	      "var_type"        "FIELD_INTEGER"
	      "blink_range"     "2150"
	    }
	    
	    "02"
	    {
	      "var_type"        "FIELD_INTEGER"
	      "min_blink_range"   "200"
	    }
	  }
	
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"  "items/dagger.lua"
	      "Function"    "Blink"
	      "Target"    "POINT"
	    }
	
	    "FireSound"
	    {
	      "EffectName"  "Hero_Antimage.Blink_out"
	      "Target"    "CASTER"
	    }
	
	    "FireSound"
	    {
	      "EffectName"  "Hero_Antimage.Blink_in"
	      "Target"    "CASTER"
	    }
	  }
	}
	"petri_gold_tick"
	{
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_AURA | DOTA_ABILITY_BEHAVIOR_HIDDEN"
	    "AbilityUnitTargetTeam"         "DOTA_UNIT_TARGET_TEAM_ENEMY"
	    "SpellImmunityType"             "SPELL_IMMUNITY_ENEMIES_YES"
	    
	    "AbilityCastRange"              "650"
	
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"                      "FIELD_INTEGER"
	            "gold_per_second"      "1"
	        }
	    }
	
	    "Modifiers"
	    {
	        "modifier_gold_tick"
	        {
	            "Passive"           "1"
	            "IsHidden"          "1"
	    
	            "ThinkInterval" "1.00" 
	            "OnIntervalThink"
	            {
	                "ActOnTargets"
	                {
	                    "Target"
	                    {
	                        "Center"      "TARGET"
	                        "Radius"     "650"
	                        "Teams"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
	                        "Types"     "DOTA_UNIT_TARGET_ALL"
	                        "Flags"     "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
	                    }
	                
	                    "Action"    
	                    {
	                        "RunScript"
	                        {
	                            "ScriptFile"        "units/creep.lua"
	                            "Function"          "KivinGoldTick"
	                        }
	                    }
	                }
	            }
	        }
	    }
	}
	
	"petri_dummy_invisibility"
	{
	  "BaseClass" "ability_datadriven"
	  "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
	  "AbilityTextureName" "undying_tombstone"
	  
	  "Modifiers"
	  {
	    "unit_properties"
	    {
	      "Passive" "1"
	      
	      "States"
	      {
	        "MODIFIER_STATE_INVULNERABLE"           "MODIFIER_STATE_VALUE_ENABLED"
	        "MODIFIER_STATE_UNSELECTABLE"           "MODIFIER_STATE_VALUE_ENABLED"
	        "MODIFIER_STATE_NO_HEALTH_BAR"            "MODIFIER_STATE_VALUE_ENABLED"
	        "MODIFIER_STATE_NO_UNIT_COLLISION"          "MODIFIER_STATE_VALUE_ENABLED"
	        "MODIFIER_STATE_NO_TEAM_SELECT"           "MODIFIER_STATE_VALUE_ENABLED"
	        "MODIFIER_STATE_ATTACK_IMMUNE"            "MODIFIER_STATE_VALUE_ENABLED"
	        "MODIFIER_STATE_FLYING_FOR_PATHING_PURPOSES_ONLY"   "MODIFIER_STATE_VALUE_ENABLED"
	        "MODIFIER_STATE_NOT_ON_MINIMAP"           "MODIFIER_STATE_VALUE_ENABLED"
	      }
	    } 
	    "modifier_truesight_datadriven"
	    {
	      "Passive"     "1"
	      "IsHidden"      "1"
	  
	      "ThinkInterval"  "0.03"
	      "OnIntervalThink"
	      {
	        "ActOnTargets"
	        {
	          "Target"
	          {
	            "Center"    "TARGET"
	            "Radius"  "1800"
	            "Teams"   "DOTA_UNIT_TARGET_TEAM_ENEMY"
	            "Types"   "DOTA_UNIT_TARGET_ALL"
	          }
	        
	          "Action"    
	          {
	            "RemoveModifier"
	            {
	              "ModifierName"  "modifier_truesight_reveal"
	              "Target"    "TARGET"
	            }
	
	            "ApplyModifier"
	            {
	              "ModifierName"  "modifier_truesight_reveal"
	              "Target"    "TARGET"
	            }
	          }
	        }     
	      }   
	    }
	
	    "modifier_truesight_reveal"
	    {
	      "IsHidden"      "1"
	      "Duration"      "0.5"
	      "Priority"                     "MODIFIER_PRIORITY_ULTRA"
	
	      "States"
	      {
	        "MODIFIER_STATE_INVISIBLE"  "MODIFIER_STATE_VALUE_DISABLED"
	      }
	    }
	  }   
	}
	
	"petri_janitor_invisibility"
	{
	  "BaseClass" "ability_datadriven"
	  "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
	  "AbilityTextureName" "riki_permanent_invisibility"
	  
	  "Modifiers"
	  {
	    "modifier_janitor_invisibility"
	    {
	      "IsHidden"      "1"
	      "Passive"      "1"
	      "Priority"                     "MODIFIER_PRIORITY_ULTRA"
	
	      "States"
	      {
	        "MODIFIER_STATE_TRUESIGHT_IMMUNE" "MODIFIER_STATE_VALUE_ENABLED"
	        "MODIFIER_STATE_INVISIBLE"  "MODIFIER_STATE_VALUE_ENABLED"
	        "MODIFIER_STATE_NO_UNIT_COLLISION" "MODIFIER_STATE_VALUE_ENABLED"
	      }
	
	      "Properties"
	      {
	        "MODIFIER_PROPERTY_MOVESPEED_BONUS_CONSTANT" "172"
	      }
	    }
	  }  
	}
	
	"petri_invisibility"
	{
	  "BaseClass" "ability_datadriven"
	  "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
	  "AbilityTextureName" "riki_permanent_invisibility"
	  
	  "Modifiers"
	  {
	    "modifier_invisibility"
	    {
	      "Passive" "1"
	      "IsHidden"      "1"
	      "Attributes"    "MODIFIER_ATTRIBUTE_MULTIPLE"
	
	      "OnCreated"
	      {
	        "ApplyModifier"
	        {
	          "ModifierName" "modifier_invisible"
	          "Target" "CASTER" 
	        }
	      } 
	    }
	  }  
	}
	
	"petri_dummy_icon_passive"
	{
	  "BaseClass" "ability_datadriven"
	  "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
	  "AbilityTextureName" "riki_permanent_invisibility"
	  
	  "Modifiers"
	  {
	    "modifier_dummy_icon_passive"
	    {
	      "IsHidden"      "1"
	      "Passive"      "1"
	      "Priority"                     "MODIFIER_PRIORITY_ULTRA"
	      "Attributes" "MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE | MODIFIER_ATTRIBUTE_PERMANENT"
	
	      "States"
	      {
	        "MODIFIER_STATE_INVULNERABLE"           "MODIFIER_STATE_VALUE_ENABLED"
	        "MODIFIER_STATE_UNSELECTABLE"           "MODIFIER_STATE_VALUE_ENABLED"
	        "MODIFIER_STATE_NO_HEALTH_BAR"            "MODIFIER_STATE_VALUE_ENABLED"
	        "MODIFIER_STATE_TRUESIGHT_IMMUNE" "MODIFIER_STATE_VALUE_ENABLED"
	        "MODIFIER_STATE_INVISIBLE"  "MODIFIER_STATE_VALUE_ENABLED"
	        "MODIFIER_STATE_NO_UNIT_COLLISION" "MODIFIER_STATE_VALUE_ENABLED"
	        "MODIFIER_STATE_ATTACK_IMMUNE"            "MODIFIER_STATE_VALUE_ENABLED"
	        "MODIFIER_STATE_LOW_ATTACK_PRIORITY"      "MODIFIER_STATE_VALUE_ENABLED"
	      }
	    }
	  }  
	}
	"petri_invulnerable_creep"
	{
	  "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
	  "BaseClass"           "ability_datadriven"
	  "MaxLevel" "1"
	  "AbilityTextureName"      ""
	  
	  "Modifiers"
	  {
	    "modifier_invulnerable_creep"
	    {
	      "Passive"     "1"
	      "IsHidden"      "1"
	      "Attributes" "MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE | MODIFIER_ATTRIBUTE_PERMANENT"  
	      "States"
	      {
	        "MODIFIER_STATE_ATTACK_IMMUNE" "MODIFIER_STATE_VALUE_ENABLED"
	        "MODIFIER_STATE_MAGIC_IMMUNE" "MODIFIER_STATE_VALUE_ENABLED"
	        "MODIFIER_STATE_ROOTED"   "MODIFIER_STATE_VALUE_ENABLED"
	        "MODIFIER_STATE_LOW_ATTACK_PRIORITY" "MODIFIER_STATE_VALUE_ENABLED"
	      }
	      "Properties"
	      {
	        "MODIFIER_PROPERTY_DISABLE_TURNING" "1"
	        "MODIFIER_PROPERTY_IGNORE_CAST_ANGLE" "1"
	        "MODIFIER_PROPERTY_MOVESPEED_ABSOLUTE" "0.1"
	      }
	    }
	  }
	}
	"petri_janitor_take_items_from_stash"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
	  "BaseClass"           "ability_datadriven"
	  "AbilityCastPoint"        "0"
	  "AbilityCooldown"       "0"
	  "AbilityCastRange"        "100"
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	  "MaxLevel"            "1"
	
	  "AbilityTextureName"      "courier_take_stash_items"
	
	  "AbilityManaCost"       "0"
	
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"  "units/janitor.lua"
	      "Function"    "TakeItemsFromStash"
	    }
	  }
	
	  "Modifiers"
	  {
	    "modifier_on_order_cancel"
	    {
	      "IsHidden"        "1"
	      "OnOrder"
	      {
	        "RunScript"
	        {
	          "ScriptFile"  "units/janitor.lua"
	          "Function"    "CancelTransferItems"
	        }
	      }
	    }
	  }
	}
	"petri_janitor_transfer_items"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
	  "BaseClass"           "ability_datadriven"
	  "AbilityCastPoint"        "0"
	  "AbilityCooldown"       "0"
	  "AbilityCastRange"        "100"
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	  "MaxLevel"            "1"
	
	  "AbilityTextureName"      "courier_transfer_items"
	
	  "AbilityManaCost"       "0"
	
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"  "units/janitor.lua"
	      "Function"    "TransferItems"
	    }
	  }
	
	  "Modifiers"
	  {
	    "modifier_on_order_cancel"
	    {
	      "IsHidden"        "1"
	      "OnOrder"
	      {
	        "RunScript"
	        {
	          "ScriptFile"  "units/janitor.lua"
	          "Function"    "CancelTransferItems"
	        }
	      }
	    }
	  }
	}
	"petri_open_basic_buildings_menu"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "petri_kvn_fan_open_basic_buildings_menu"
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	
	  "MaxLevel"            "1"
	
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "units/kvn_fan.lua"
	      "Function"        "OpenBasicBuildingsMenu"
	    }
	  } 
	}
	
	"petri_open_advanced_buildings_menu"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "petri_kvn_fan_open_advanced_buildings_menu"
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	
	  "MaxLevel"            "1"
	
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "units/kvn_fan.lua"
	      "Function"        "OpenAdvancedBuildingsMenu"
	    }
	  }
	}
	
	"petri_close_basic_buildings_menu"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "petri_kvn_fan_close_buildings_menu"
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	
	  "MaxLevel"            "1"
	
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "units/kvn_fan.lua"
	      "Function"        "CloseBasicBuildingsMenu"
	    }
	  }
	}
	
	"petri_close_advanced_buildings_menu"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "petri_kvn_fan_close_buildings_menu"
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	
	  "MaxLevel"            "1"
	
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "units/kvn_fan.lua"
	      "Function"        "CloseAdvancedBuildingsMenu"
	    }
	  }
	}
	"petri_kvn_fan_deny"
	{
	  "BaseClass"           "ability_datadriven"
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
	  "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
	  "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_ALL"
	  "AbilityTextureName"      "techies_suicide"
	
	  "AbilityCastRange" "150"
	
	  "AbilityCooldown" "0.1"
	
	  "MaxLevel"            "1"
	
	  "precache"
	  {
	    "particle"    "particles/units/heroes/hero_techies/techies_suicide_base.vpcf"
	  }
	
	  "OnSpellStart"
	  {
	    "FireEffect"
	    {
	      "EffectName"        "particles/units/heroes/hero_techies/techies_suicide_base.vpcf"
	      "EffectAttachType"  "follow_origin"
	      "Target"            "TARGET"
	    }
	    "RunScript"
	    {
	      "ScriptFile"  "units/kvn_fan.lua"
	      "Function"    "Deny"
	    }
	  }
	}
	"petri_magic_immune"
	{
	  "BaseClass" "ability_datadriven"
	  "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
	  "AbilityTextureName" "riki_permanent_invisibility"
	  
	  "Modifiers"
	  {
	    "modifier_magic_immune"
	    {
	      "IsHidden"      "1"
	      "Passive"      "1"
	      "Priority"                     "MODIFIER_PRIORITY_ULTRA"
	
	      "States"
	      {
	        "MODIFIER_STATE_MAGIC_IMMUNE"           "MODIFIER_STATE_VALUE_ENABLED"
	      }
	    }
	  }  
	}
	"petri_magic_immunity"
	{
	  "BaseClass" "ability_datadriven"
	  "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
	  
	  "Modifiers"
	  {
	    "modifier_magic_immunity"
	    {
	      "IsHidden"      "1"
	      "Passive"      "1"
	      "Priority"                     "MODIFIER_PRIORITY_ULTRA"
	
	      "Properties"
	      {
	        "MODIFIER_PROPERTY_MAGICAL_RESISTANCE_BONUS" "100"
	      }
	    }
	  }  
	}
	"petri_mini_actor_phase"
	{
	  "BaseClass" "ability_datadriven"
	  "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
	  
	  "Modifiers"
	  {
	    "modifier_mini_actor_phase"
	    {
	      "Passive"                   "1"
	      "IsHidden"                  "1"
	      "IsBuff"                     "1"
	
	      "Attributes" "MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE | MODIFIER_ATTRIBUTE_PERMANENT"
	
	      "States"
	      {
	        "MODIFIER_STATE_NO_UNIT_COLLISION"      "MODIFIER_STATE_VALUE_ENABLED"
	      }
	    }
	  }  
	}
	"petri_petrosyan_explore"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "petri_exploration_tree_explore"
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	
	  "AbilityManaCost"       "10 40 70 150"
	  "AbilityCooldown"       "30 25 20 15"
	
	  "MaxLevel"            "4"
	
	  "precache"
	  {
	    "particle"  "particles/items_fx/dust_of_appearance.vpcf"
	    "soundfile" "soundevents/game_sounds_heroes/game_sounds_magnataur.vsndevts"
	  }
	
	  "AbilitySpecial"
	  {
	    "01"
	    {
	      "var_type"        "FIELD_INTEGER"
	      "reveal_radius"          "600 1000 1400 1800"
	    }
	    "02"
	    {
	      "var_type"    "FIELD_INTEGER"
	      "duration"    "5 6 7 8"
	    }
	  }
	
	  "precache"
	  {
	    "particle"    "particles/units/heroes/hero_rattletrap/clock_loadout_sparks.vpcf"
	  }
	
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "units/petrosyan.lua"
	      "Function"        "FarSight"
	      "Target"    "POINT"
	    }
	  }
	}
	"petri_petrosyan_flat_joke"
	{
		"BaseClass"				"ability_datadriven"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"AbilityTextureName"			"death_prophet_carrion_swarm"
	
		"MaxLevel" "1"
	
		"precache"
		{	
			"particle"		"particles/petri_flat_joke.vpcf"
		}
	
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"					"FIELD_INTEGER"
				"joke_damage"				"1"
			}
			"02"
			{
				"var_type"					"FIELD_INTEGER"
				"crit_chance"				"10"
			}
		}
	
		"Modifiers"
		{
			"modifier_flat_joke_datadriven"
			{
			    "Passive"   "1"
			    "IsHidden"  "1"
	
			    "States"
			    {
			    	"MODIFIER_STATE_LOW_ATTACK_PRIORITY"           "MODIFIER_STATE_VALUE_ENABLED"
			    }
	
			    "OnAttackLanded"
			    {
			        "Random"
			        {
			        	"Chance" 	"%crit_chance"
			        	"OnSuccess"
			        	{
			        		"LinearProjectile"
			        		{
			        			"Target"		 	"ATTACKER"
							    "EffectName"     	"particles/petri_flat_joke.vpcf"
							    "MoveSpeed"      	"1100"
							    "StartRadius"    	"110"
							    "EndRadius"      	"300"
							    "StartPosition"  	"follow_origin"
							    "FixedDistance"  	"1000"
							    "TargetTeams"    	"DOTA_UNIT_TARGET_TEAM_ENEMY"
							    "TargetTypes"    	"DOTA_UNIT_TARGET_ALL"
							    "HasFrontalCone" 	"1"
							    "ProvidesVision" 	"0"
							}     
	          			}
	        		}
		    	}
			}
		}
	
		"OnProjectileHitUnit"
		{
			"DeleteOnHit"	"0"
	
			"Damage"
			{
				"Target"		 "TARGET"
				"Type"			 "DAMAGE_TYPE_MAGICAL"
				"Damage"		 "1"
	    	}
		}
	}
	"petri_petrosyan_laugh_burst"
	{
	  "BaseClass"       "ability_datadriven"
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
	  "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
	  "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"
	  //"AbilityUnitTargetFlags"    "DOTA_UNIT_TARGET_FLAG_NOT_MAGIC_IMMUNE_ALLIES"
	  "AbilityTextureName"      "omniknight_purification"
	
	  "AbilityCastRange"        "700"
	  "AbilityCastPoint"        "0.5"
	
	  "AbilityCooldown"       "15.0"
	
	  "AbilityManaCost"       "1 2 3 4 5 6 10 15 18 25 35 50 70 85 100 125 250 400"
	
	  "MaxLevel"            "15"
	
	  "AbilitySpecial"
	  {
	    "01"
	    {
	      "var_type"        "FIELD_INTEGER"
	      "heal"          "10 20 35 50 75 125 200 300 500 1000 1250 1500 2000 2800 5000 7500 10000 13000"
	    }
	  }
	
	  "precache"
	  {
	    "soundfile" "soundevents/game_sounds_heroes/game_sounds_omniknight.vsndevts"
	    "particle"  "particles/units/heroes/hero_omniknight/omniknight_purification.vpcf"
	    "particle"  "particles/units/heroes/hero_omniknight/omniknight_purification_hit.vpcf"
	    "particle"  "particles/units/heroes/hero_omniknight/omniknight_purification_cast.vpcf"
	
	  }
	
	  "OnSpellStart"
	  {
	    "FireSound"
	    {
	      "EffectName"  "Hero_Omniknight.Purification"
	      "Target"    "TARGET"
	    }
	    
	    "FireEffect"
	    {
	      "Target"      "TARGET"
	      "EffectName"    "particles/units/heroes/hero_omniknight/omniknight_purification_cast.vpcf"
	      "EffectAttachType"  "follow_origin"
	    }
	
	    "Heal"
	    {
	      "Target"    "TARGET"
	      "HealAmount"  "%heal"
	    }
	  }
	}
	"petri_petrosyan_return"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_IGNORE_CHANNEL | DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_DONT_RESUME_ATTACK | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "keeper_of_the_light_illuminate_end"
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	
	  "AbilityCastPoint"        "0.0"
	
	  "AbilityCooldown" "5.5"
	
	  "MaxLevel"            "1"
	  
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "units/petrosyan.lua"
	      "Function"        "Return"    
	    }
	  }
	}
	"petri_petrosyan_sleep"
	{
	  "BaseClass" "ability_datadriven"
	  "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
	  "AbilityUnitTargetTeam" "DOTA_UNIT_TARGET_TEAM_ENEMY"
	  "AbilityUnitTargetType" "DOTA_UNIT_TARGET_HERO"
	  "AbilityTextureName" "petri_sleep"
	
	  "MaxLevel" "15"
	
	  "AbilityCastRange"        "650"
	
	  "AbilityCooldown"       "11 13 15 17 19 21 23 25 27 29 31 32 33 34 35"
	
	  "AbilityManaCost" "1 2 3 4 5 6 7 8 9 10 11 12 13 14 15" 
	
	  "precache"
	  {
	    "particle"    "particles/generic_gameplay/generic_sleep.vpcf"
	  }
	
	  "AbilitySpecial"
	  {
	    "01"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "duration"      "5 6 7 8 9 10 11 12 13 14 15 16 17 18 19"
	    }
	  }
	
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"  "units/petrosyan.lua"
	      "Function"    "Sleep"
	    }
	    "ApplyModifier"
	    {
	      "ModifierName"  "sleep_modifier"
	      "Target"    "TARGET"
	    }
	  }
	  
	  "Modifiers"
	  {
	    "sleep_modifier"
	    {
	      "Duration"  "%duration"
	      "IsDebuff"  "1"
	
	      "EffectName"        "particles/generic_gameplay/generic_sleep.vpcf"
	      "EffectAttachType"      "follow_overhead"
	
	      "States"
	      {
	        "MODIFIER_STATE_ROOTED" "MODIFIER_STATE_VALUE_ENABLED"
	        "MODIFIER_STATE_FROZEN" "MODIFIER_STATE_VALUE_ENABLED"
	        "MODIFIER_STATE_NIGHTMARED"         "MODIFIER_STATE_VALUE_ENABLED"
	        "MODIFIER_STATE_LOW_ATTACK_PRIORITY"  "MODIFIER_STATE_VALUE_ENABLED" 
	        "MODIFIER_STATE_STUNNED" "MODIFIER_STATE_VALUE_ENABLED" 
	        "MODIFIER_STATE_INVULNERABLE" "MODIFIER_STATE_VALUE_ENABLED"
	        "MODIFIER_STATE_NO_HEALTH_BAR"  "MODIFIER_STATE_VALUE_ENABLED"   
	      }
	    } 
	  }   
	}
	
	"petri_petrosyan_dummy_sleep"
	{
	  "BaseClass" "ability_datadriven"
	  "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE"
	
	  "MaxLevel" "1"
	
	  "precache"
	  {
	    "particle"    "particles/generic_gameplay/generic_sleep.vpcf"
	  }
	
	  "OnUpgrade"
	  {
	    "ApplyModifier"
	    {
	      "ModifierName"  "dummy_sleep_modifier"
	      "Target"    "CASTER"
	    }
	  }
	  
	  "Modifiers"
	  {
	    "dummy_sleep_modifier"
	    {
	      "Duration"  "30"
	      "IsDebuff"  "1"
	
	      "EffectName"        "particles/generic_gameplay/generic_sleep.vpcf"
	      "EffectAttachType"      "follow_overhead"
	
	      "States"
	      {
	        "MODIFIER_STATE_NIGHTMARED"         "MODIFIER_STATE_VALUE_ENABLED"
	        "MODIFIER_STATE_STUNNED"            "MODIFIER_STATE_VALUE_ENABLED"
	        "MODIFIER_STATE_SPECIALLY_DENIABLE"   "MODIFIER_STATE_VALUE_ENABLED"
	        "MODIFIER_STATE_LOW_ATTACK_PRIORITY"  "MODIFIER_STATE_VALUE_ENABLED" 
	
	        "MODIFIER_STATE_INVULNERABLE" "MODIFIER_STATE_VALUE_ENABLED"
	        "MODIFIER_STATE_NO_HEALTH_BAR"  "MODIFIER_STATE_VALUE_ENABLED"   
	      }
	
	      "OnDestroy"
	      {
	        "RunScript"
	        {
	          "ScriptFile"  "units/petrosyan.lua"
	          "Function"    "OnAwake"
	        }
	      }
	    } 
	  }   
	}
	"petri_petrosyan_snare_1"
	{
	  "BaseClass" "ability_datadriven"
	  "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
	  "AbilityUnitTargetTeam" "DOTA_UNIT_TARGET_TEAM_ENEMY"
	  "AbilityUnitTargetType" "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
	  "SpellImmunityType"             "SPELL_IMMUNITY_ENEMIES_NO"
	  "AbilityTextureName" "meepo_earthbind"
	
	  "MaxLevel" "1"
	
	  "AbilityCastRange"        "650"
	
	  "AbilityCooldown"       "25"
	
	  "AbilityManaCost" "15" 
	
	  "AbilitySpecial"
	  {
	    "01"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "duration"      "9"
	    }
	  }
	
	  "OnSpellStart"
	  {
	    "TrackingProjectile"
	    {
	      "Target"                "TARGET"
	      "EffectName"            "particles/units/heroes/hero_meepo/meepo_earthbind_projectile_fx.vpcf"
	      "Dodgeable"             "0"
	      "ProvidesVision"        "1"
	      "VisionRadius"          "0"
	      "MoveSpeed"             "1500"
	      "SourceAttachment"      "DOTA_PROJECTILE_ATTACHMENT_ATTACK_1"
	    }
	    "FireSound"
	    {
	      "EffectName"            "Hero_NagaSiren.Ensnare.Cast"
	      "Target"                "CASTER"
	    }
	  }
	
	  "OnProjectileHitUnit"
	  {
	    "DeleteOnHit"   "1"
	
	    "FireSound"
	    {
	        "EffectName"            "Hero_NagaSiren.Ensnare.Target"
	        "Target"                "TARGET"
	    }
	
	    "ApplyModifier"
	    {
	        "Target"                "TARGET"
	        "ModifierName"          "modifier_snare"
	    }
	
	    "Damage"
	    {
	      "Target"    "TARGET"
	      "Type"      "DAMAGE_TYPE_MAGICAL"
	      "Damage"    "1"
	    }
	  }
	  
	  "Modifiers"
	  {
	    "modifier_snare"
	    {
	      "IsHidden"      "0"
	      "IsDebuff"      "1"
	      "IsPurgable"    "1"
	
	      "Duration"      "%duration"
	
	      "States"
	      {
	        "MODIFIER_STATE_ROOTED"     "MODIFIER_STATE_VALUE_ENABLED"
	        "MODIFIER_STATE_SILENCED"     "MODIFIER_STATE_VALUE_ENABLED"
	      }
	
	      "EffectName"            "particles/units/heroes/hero_meepo/meepo_earthbind.vpcf"
	      "EffectAttachType"      "follow_origin"
	    }
	  }   
	}
	
	"petri_petrosyan_snare_2"
	{
	  "BaseClass" "ability_datadriven"
	  "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
	  "AbilityUnitTargetTeam" "DOTA_UNIT_TARGET_TEAM_ENEMY"
	  "AbilityUnitTargetType" "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
	  "SpellImmunityType"             "SPELL_IMMUNITY_ENEMIES_NO"
	  "AbilityTextureName" "naga_siren_ensnare"
	
	  "MaxLevel" "1"
	
	  "AbilityCastRange"        "1000"
	
	  "AbilityCooldown"       "22"
	
	  "AbilityManaCost" "15" 
	
	  "AbilitySpecial"
	  {
	    "01"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "duration"      "14"
	    }
	  }
	
	  "OnSpellStart"
	  {
	    "TrackingProjectile"
	    {
	      "Target"                "TARGET"
	      "EffectName"            "particles/units/heroes/hero_meepo/meepo_earthbind_projectile_fx.vpcf"
	      "Dodgeable"             "0"
	      "ProvidesVision"        "1"
	      "VisionRadius"          "0"
	      "MoveSpeed"             "1500"
	      "SourceAttachment"      "DOTA_PROJECTILE_ATTACHMENT_ATTACK_1"
	    }
	    "FireSound"
	    {
	      "EffectName"            "Hero_NagaSiren.Ensnare.Cast"
	      "Target"                "CASTER"
	    }
	  }
	
	  "OnProjectileHitUnit"
	  {
	    "DeleteOnHit"   "1"
	
	    "FireSound"
	    {
	        "EffectName"            "Hero_NagaSiren.Ensnare.Target"
	        "Target"                "TARGET"
	    }
	
	    "ApplyModifier"
	    {
	        "Target"                "TARGET"
	        "ModifierName"          "modifier_snare"
	    }
	
	    "Damage"
	    {
	      "Target"    "TARGET"
	      "Type"      "DAMAGE_TYPE_MAGICAL"
	      "Damage"    "1"
	    }
	  }
	  
	  "Modifiers"
	  {
	    "modifier_snare"
	    {
	      "IsHidden"      "0"
	      "IsDebuff"      "1"
	      "IsPurgable"    "1"
	
	      "Duration"      "%duration"
	
	      "States"
	      {
	        "MODIFIER_STATE_ROOTED"     "MODIFIER_STATE_VALUE_ENABLED"
	        "MODIFIER_STATE_SILENCED"     "MODIFIER_STATE_VALUE_ENABLED"
	      }
	
	      "EffectName"            "particles/units/heroes/hero_meepo/meepo_earthbind.vpcf"
	      "EffectAttachType"      "follow_origin"
	    }
	  }   
	}
	"petri_petrosyan_wind_walk"
	{
	  "BaseClass"       "ability_datadriven"
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_IGNORE_CHANNEL"
	  "AbilityTextureName"      "clinkz_wind_walk"
	
	  "AbilityCooldown"       "25.0"
	
	  "AbilityManaCost"       "1 2 3 4 5 6 7 8 10 12 14 16 20 25 30 35 40"
	
	  "MaxLevel"            "15"
	  
	
	  "AbilitySpecial"
	  {
	    "01"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "duration"          "10 20 30 40 50 60 70 80 90 100 110 120 130 140 150"
	    }
	  }
	
	  "precache"
	  {
	    "particle"  "particles/units/heroes/hero_clinkz/clinkz_windwalk.vpcf"
	  }
	
	  "OnSpellStart"
	  {
	    "FireEffect"
	    {
	      "EffectName"    "particles/units/heroes/hero_clinkz/clinkz_windwalk.vpcf"
	      "EffectAttachType"  "attach_origin"
	      "Target"      "CASTER"
	    }
	
	    "ApplyModifier"
	    {
	      "Target"    "CASTER"
	      "ModifierName"  "modifier_wind_walk_fade"
	      "Duration"    "%fade_time"
	    }
	  }
	
	  "Modifiers"
	  {
	    "modifier_wind_walk_fade"
	    {
	      "IsHidden"      "1"
	      "EffectName"    "particles/generic_hero_status/status_invisibility_start.vpcf"
	      "EffectAttachType"  "follow_origin"
	
	      "OnDestroy"
	      {
	        "ApplyModifier"
	        {
	          "Target"    "CASTER"
	          "ModifierName"  "modifier_wind_walk"
	          "Duration"    "%duration"
	        }
	        "ApplyModifier"
	        {
	          "Target"    "CASTER"
	          "ModifierName"  "modifier_invisible"
	          "Duration"    "%duration"
	        }
	      }
	    }
	
	    "modifier_wind_walk"
	    {
	      "OnAttackLanded"
	      {
	        "RemoveModifier"
	        {
	          "Target"    "CASTER"
	          "ModifierName"  "modifier_wind_walk"
	        }
	        "RemoveModifier"
	        {
	          "Target"    "CASTER"
	          "ModifierName"  "modifier_invisible"
	        }
	      }
	
	      "OnAbilityExecuted"
	      {
	        "RemoveModifier"
	        {
	          "Target"    "CASTER"
	          "ModifierName"  "modifier_wind_walk"
	        }
	        "RemoveModifier"
	        {
	          "Target"    "CASTER"
	          "ModifierName"  "modifier_invisible"
	        }
	      }
	
	      "States"
	      {
	        "MODIFIER_STATE_INVISIBLE"  "MODIFIER_STATE_VALUE_ENABLED" 
	      }
	
	      "OnDestroy"
	      {
	        "RemoveModifier"
	        {
	          "Target"
	          {
	            "Center"  "CASTER"
	            "Flags"   "DOTA_UNIT_TARGET_FLAG_DEAD"
	          }
	          "ModifierName"  "modifier_invisible"
	        }
	      }
	    }
	  }
	}
	"petri_repair"
	{
	  "BaseClass"                 "ability_datadriven"
	  "AbilityTextureName"      "petri_repair"
	  "MaxLevel"            "1"
	
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_AUTOCAST"
	  "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
	  "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_ALL"
	
	  "AbilityMultiOrder" "1"
	
	  "OnAbilityPhaseStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"  "units/peasant.lua"
	      "Function"    "StartRepairing"
	    }
	  }
	
	  "Modifiers"
	  {
	    "petri_repair_rooted"
	    {
	      "Passive"     "0"
	      "IsHidden"      "1"
	      "Attributes" "MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"  
	      "States"
	      {
	        "MODIFIER_STATE_ROOTED"   "MODIFIER_STATE_VALUE_ENABLED"
	        //"MODIFIER_STATE_DISARMED"   "MODIFIER_STATE_VALUE_ENABLED"
	      }
	    }
	
	    "modifier_repairing_autocast_aura"
	    {
	      "Passive" "1"
	      "IsHidden"  "1"
	
	      "OnCreated"
	      {
	        "RunScript"
	        {
	          "ScriptFile"    "units/peasant.lua"
	          "Function"      "RepairingAutocast"
	        }
	      }
	
	      "ThinkInterval" "3"
	      "OnIntervalThink"
	      {
	        "RunScript"
	        {
	          "ScriptFile"    "units/peasant.lua"
	          "Function"      "RepairingAutocast"
	        }
	      }
	    }
	
	    "modifier_repairing"
	    {
	      "IsHidden"        "1"
	        
	      "ThinkInterval"  "0.03"
	      "OnIntervalThink"
	      {
	        "RunScript"
	        {
	          "ScriptFile"  "units/peasant.lua"
	          "Function"    "CheckRepairingTargetPosition"
	        }
	      }
	
	      "OnOrder"
	      {
	        "RemoveModifier"
	        {
	          "ModifierName"  "modifier_repairing"
	          "Target"    "CASTER"
	        }
	
	        "RunScript"
	        {
	          "ScriptFile"  "units/peasant.lua"
	          "Function"    "ToggleOffRepairing"
	        }
	      }
	    }
	
	    "modifier_chopping_building"
	    {
	      "IsHidden"        "1"
	    
	      "OverrideAnimation"   "ACT_DOTA_ATTACK"
	
	      "OnOrder"
	      {     
	        "RemoveModifier"
	        {
	          "ModifierName"  "modifier_chopping_building"
	          "Target"    "CASTER"
	        }
	        "RunScript"
	        {
	          "ScriptFile"  "units/peasant.lua"
	          "Function"    "ToggleOffRepairing"
	        }
	      }
	
	      "ThinkInterval"  "1.0"
	      "OnIntervalThink"
	      {
	        "RunScript"
	        {
	          "ScriptFile"  "units/peasant.lua"
	          "Function"    "RepairBy1Percent"
	        }
	
	        "ApplyModifier"
	        {
	          "ModifierName"  "modifier_chopping_building_animation"
	          "Target"    "CASTER"
	          "Duration"    "0.87"
	        }
	      }   
	    }
	
	    "modifier_chopping_building_animation"
	    {
	      "OverrideAnimation"     "ACT_DOTA_ATTACK"
	      "IsHidden"        "1"
	      "OnOrder"
	      {
	        "RemoveModifier"
	        {
	          "ModifierName"  "modifier_chopping_building_animation"
	          "Target"    "CASTER"
	        }
	        "RunScript"
	        {
	          "ScriptFile"  "units/peasant.lua"
	          "Function"    "ToggleOffRepairing"
	        }
	      }
	    }
	
	    "modifier_being_repaired"
	    {
	      "IsHidden"  "1"
	
	      "Attributes"    "MODIFIER_ATTRIBUTE_MULTIPLE"
	
	      "Duration"  "1.0"
	    }
	  }
	}
	"petri_suicide"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "techies_suicide"
	  "AbilityCastAnimation"      "ACT_DOTA_DEATH"
	
	  "MaxLevel"            "1"
	
	  "precache"
	  {
	    "soundfile"     "soundevents/game_sounds_heroes/game_sounds_techies.vsndevts"    
	    "particle"    "particles/units/heroes/hero_techies/techies_suicide_base.vpcf"
	  }
	
	  "OnSpellStart"
	  {
	    "FireSound"
	    {
	        "EffectName"    "Hero_Techies.Suicide"
	        "Target"        "CASTER"
	    }
	    "FireEffect"
	    {
	      "EffectName"        "particles/units/heroes/hero_techies/techies_suicide_base.vpcf"
	      "EffectAttachType"  "follow_origin"
	      "Target"            "CASTER"
	    }
	    "RunScript"
	    {
	      "ScriptFile"      "units/peasant.lua"
	      "Function"        "Suicide"
	    }
	  }
	}
	"petri_trap"
	{
	  "BaseClass" "ability_datadriven"
	  "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE"
	  "AbilityUnitTargetTeam" "DOTA_UNIT_TARGET_TEAM_ENEMY"
	  "AbilityUnitTargetType" "DOTA_UNIT_TARGET_HERO"
	  "AbilityTextureName" "techies_stasis_trap"
	  "SpellImmunityType"             "SPELL_IMMUNITY_ENEMIES_YES"
	
	  "AoeRadius" "100"
	
	  "MaxLevel"            "1"
	
	  "precache"
	  {
	    "soundfile"     "soundevents/game_sounds_heroes/game_sounds_techies.vsndevts"         
	  }
	
	  "Modifiers"
	  {
	    "modifier_trap"
	    {
	      "Passive"     "1"
	      "IsHidden"      "1"
	  
	      "ThinkInterval"  "0.03"
	      "OnIntervalThink"
	      {
	        "ActOnTargets"
	        {
	          "Target"
	          {
	            "Center"    "TARGET"
	            "Radius"  "100"
	            "Teams"   "DOTA_UNIT_TARGET_TEAM_ENEMY"
	            "Types"   "DOTA_UNIT_TARGET_HERO"
	            "Flags"     "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
	          }
	          
	          "Action"
	          {
	            "RunScript"
	            {
	              "ScriptFile"  "units/trap.lua"
	              "Function"    "AddTrap"
	              "Target"  "TARGET"
	            }
	            "RemoveModifier"
	            {
	              "ModifierName"  "modifier_trap"
	              "Target"     "CASTER"
	            }
	          }      
	        }     
	      }   
	    }
	    "modifier_evasion_stacks"
	    {
	      "Passive"      "1"
	      "IsHidden"      "1"
	      "IsDebuff"      "0"
	
	      "OnCreated"
	      {
	        "RunScript"
	        {
	          "ScriptFile"  "units/trap.lua"
	          "Function"    "OnStacksCreated"
	        }
	      }
	
	      "OnAttacked"
	      {
	        "RunScript"
	        {
	          "ScriptFile"  "units/trap.lua"
	          "Function"    "OnAttacked"
	        }
	      }
	
	      "Properties"
	      {
	        "MODIFIER_PROPERTY_PHYSICAL_CONSTANT_BLOCK" "100000"
	      }
	    }
	  }   
	}
	"petri_upgrade"
	{
	  "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      ""
	  
	  "Modifiers"
	  {
	    "modifier_upgrade"
	    {
	      "Passive"     "1"
	      "Attributes"    "MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"  
	    }
	  }
	}
	"petri_upgrade_basic_tower"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "petri_upgrade_basic_tower"
	
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	
	  "AbilityCastPoint"        "0.0"
	
	  "MaxLevel"            "8"
	
	  "AbilityChannelTime"      "1.0 2.0 3.0 4.0 5.0 6.0 8.0"
	  "AbilityGoldCost"       "0 0 1 5 10 20 40"
	
	  "AbilitySpecial"
	  {
	    "01"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "lumber_cost"        "500 1500 4500 10000 17000 21000 28000"
	    }
	    "02"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "attack"        "14 25 67 99 140 200 400"
	    }
	    "03"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "attack_rate"        "20 40 50 60 70 90 120"
	    }
	  }
	
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "StartUpgrading"
	    }
	  }
	
	  "OnChannelInterrupted"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "StopUpgrading"
	    }
	  }
	  
	  "OnChannelSucceeded"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "units/tower.lua"
	      "Function"        "UpgradeBasic"
	    }
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "OnUpgradeSucceeded"
	    }
	  }
	
	  "Modifiers"
	  {
	    "modifier_attack_speed"
	    {
	      "Passive"  "0"
	      "IsHidden" "1"
	
	      "Properties"
	      {
	        "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"    "%attack_rate"
	      }
	    }
	  }
	}
	
	"petri_upgrade_elements_tower"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "petri_upgrade_elements_tower"
	
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	
	  "AbilityCastPoint"        "0.0"
	
	  "MaxLevel"            "2"
	
	  "AbilityChannelTime"      "2.0"
	  "AbilityGoldCost"       "0"
	
	  "precache"
	  {
	    "particle"  "particles/units/heroes/hero_razor/razor_static_link_projectile_a.vpcf"
	  }
	
	  "AbilitySpecial"
	  {
	    "01"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "lumber_cost"        "500"
	    }
	    "02"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "attack"        "16"
	    }
	    "03"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "attack_rate"        "20"
	    }
	  }
	
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "StartUpgrading"
	    }
	  }
	
	  "OnChannelInterrupted"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "StopUpgrading"
	    }
	  }
	  
	  "OnChannelSucceeded"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "units/tower.lua"
	      "Function"        "UpgradeElements"
	    }
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "OnUpgradeSucceeded"
	    }
	  }
	
	  "Modifiers"
	  {
	    "modifier_attack_speed"
	    {
	      "Passive"  "0"
	      "IsHidden" "1"
	
	      "Orb"
	      {
	        "Priority"        "DOTA_ORB_PRIORITY_ITEM"
	        "ProjectileName"    "particles/units/heroes/hero_razor/razor_static_link_projectile_a.vpcf"
	        "CastAttack"      "0"
	      }
	
	      "Properties"
	      {
	        "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"    "%attack_rate"
	      }
	    }
	  }
	}
	
	"petri_upgrade_fire_tower"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "petri_upgrade_fire_tower"
	
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	
	  "AbilityCastPoint"        "0.0"
	
	  "MaxLevel"            "8"
	
	  "AbilityChannelTime"      "2.0 2.1 2.2 2.3 2.4 2.5 2.6"
	  "AbilityGoldCost"       "0 0 2 10 20 30 40"
	
	  "precache"
	  {
	    "particle"  "particles/units/heroes/hero_invoker/invoker_base_attack.vpcf"
	  }
	
	  "AbilitySpecial"
	  {
	    "01"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "lumber_cost"        "3000 5000 10000 17000 20000 25000 34000"
	    }
	    "02"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "attack"        "55 91 180 210 240 260 350"
	    }
	    "03"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "attack_rate"        "10 15 20 30 40 50 60"
	    }
	    "04"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "chance"        "20 20 20 20 20 20 20"
	    }
	    "05"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "crit"        "300 300 300 300 300 300 300"
	    }
	  }
	
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "StartUpgrading"
	    }
	  }
	
	  "OnChannelInterrupted"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "StopUpgrading"
	    }
	  }
	  
	  "OnChannelSucceeded"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "units/tower.lua"
	      "Function"        "UpgradeFire"
	    }
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "OnUpgradeSucceeded"
	    }
	  }
	
	  "Modifiers"
	  {
	    "modifier_attack_speed"
	    {
	      "Passive"  "0"
	      "IsHidden" "1"
	
	      "Properties"
	      {
	        "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"    "%attack_rate"
	      }
	    }
	    "modifier_crits"
	    {
	      "Passive"  "0"
	
	      "IsHidden"   "1"
	
	      "Orb"
	      {
	        "Priority"        "DOTA_ORB_PRIORITY_ITEM"
	        "ProjectileName"    "particles/units/heroes/hero_invoker/invoker_base_attack.vpcf"
	        "CastAttack"      "0"
	      }
	
	      "OnAttackStart"
	      {
	        "Random"
	        {
	          "Chance" "%chance"
	          "OnSuccess"
	          {
	            "ApplyModifier"
	            {
	              "ModifierName" "creep_crit"
	              "Target"     "CASTER" 
	            }   
	          }
	        }
	      }
	    }
	    "creep_crit"
	    {
	      "Duration"  "1"
	      "IsHidden"  "1"
	      "Properties"
	      {
	        "MODIFIER_PROPERTY_PREATTACK_CRITICALSTRIKE"   "%crit"
	      }
	      
	      "OnAttackLanded"
	      { 
	        "RemoveModifier"
	        {
	          "ModifierName"    "creep_crit"
	          "Target"      "CASTER"  
	        }
	      }
	    }
	  }
	}
	
	"petri_upgrade_ice_tower"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "petri_upgrade_ice_tower"
	
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	
	  "AbilityCastPoint"        "0.0"
	
	  "MaxLevel"            "8"
	
	  "AbilityChannelTime"      "2.0 2.1 2.2 2.3 2.4 2.5 2.6"
	  "AbilityGoldCost"       "0 1 5 10 15 20 25"
	
	  "precache"
	  {
	    "particle"  "particles/status_fx/status_effect_frost.vpcf"
	    "particle"  "particles/items2_fx/skadi_projectile.vpcf"
	  }
	
	  "AbilitySpecial"
	  {
	    "01"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "lumber_cost"        "2000 2500 7000 11000 15000 20000 25000"
	    }
	    "02"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "attack"        "30 60 90 120 160 190 210"
	    }
	    "03"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "attack_rate"        "10 15 20 25 30 35 40"
	    }
	    "04"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "slow_rate"        "-15 -20 -25 -35 -40 -45 -50"
	    }
	  }
	
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "StartUpgrading"
	    }
	  }
	
	  "OnChannelInterrupted"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "StopUpgrading"
	    }
	  }
	  
	  "OnChannelSucceeded"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "units/tower.lua"
	      "Function"        "UpgradeIce"
	    }
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "OnUpgradeSucceeded"
	    }
	  }
	
	  "Modifiers"
	  {
	    "modifier_attack_speed"
	    {
	      "Passive"  "0"
	      "IsHidden" "1"
	
	      "Properties"
	      {
	        "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"    "%attack_rate"
	      }
	    }
	    "modifier_skadi"
	    {
	      "Passive"       "0"
	      "IsHidden"        "1"
	      
	      "Orb"
	      {
	        "Priority"        "DOTA_ORB_PRIORITY_ITEM"
	        "Label"         "DOTA_ORB_LABEL_SKADI"
	        "ProjectileName"    "particles/items2_fx/skadi_projectile.vpcf"
	        "CastAttack"      "0"
	      }
	
	      "OnOrbImpact"
	      {
	        "RunScript"
	        {
	          "ScriptFile"      "units/tower.lua"
	          "Function"        "IceTowerOnOrbImpact"
	          "ColdDuration"   "4"
	        }
	      }
	    }
	    "modifier_skadi_cold_attack"
	    {
	      "Passive"       "0"
	      "IsDebuff"      "1"
	      "IsHidden"        "0"
	      
	      "StatusEffectName"     "particles/status_fx/status_effect_frost.vpcf"
	      "StatusEffectPriority" "10"
	        
	      "Properties"
	      {
	        "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"    "%slow_rate"
	        "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"    "%slow_rate"
	      }
	    } 
	  }
	}
	
	"petri_upgrade_death_tower"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "petri_upgrade_death_tower"
	
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	
	  "AbilityCastPoint"        "0.0"
	
	  "MaxLevel"            "8"
	
	  "AbilityChannelTime"      "3.0 3.1 3.2 3.3 3.4 3.5 3.6"
	  "AbilityGoldCost"       "1 5 10 15 20 25 30"
	
	  "precache"
	  {
	    "particle"  "particles/items_fx/desolator_projectile.vpcf"
	    "particle"  "particles/status_fx/status_effect_armor_dazzle.vpcf"
	  }
	
	  "AbilitySpecial"
	  {
	    "01"
	    {
	      "var_type"                "FIELD_INTEGER"
	      "lumber_cost"             "4000 8000 15000 20000 30000 40000 60000"
	    }
	    "02"
	    {
	      "var_type"                "FIELD_INTEGER"
	      "attack"                  "50 75 100 175 215 265 365"
	    }
	    "03"
	    {
	      "var_type"                "FIELD_INTEGER"
	      "attack_rate"             "10 15 20 25 35 45 50"
	    }
	    "04"
	    {
	      "var_type"                "FIELD_INTEGER"
	      "armor_reduction"         "-75"
	    }
	    "05"
	    {
	      "var_type"                "FIELD_INTEGER"
	      "armor_reduction_stacks"  "1 3 6 9 14 18 22"
	    }
	  }
	
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "StartUpgrading"
	    }
	  }
	
	  "OnChannelInterrupted"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "StopUpgrading"
	    }
	  }
	  
	  "OnChannelSucceeded"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "units/tower.lua"
	      "Function"        "UpgradeDeath"
	    }
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "OnUpgradeSucceeded"
	    }
	  }
	
	  "Modifiers"
	  {
	    "modifier_attack_speed"
	    {
	      "Passive"  "0"
	      "IsHidden" "1"
	
	      "Properties"
	      {
	        "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"    "%attack_rate"
	      }
	    }
	    "modifier_death_tower"
	    {
	      "Passive"     "0"
	      "IsHidden"      "1"
	      
	      "Orb"
	      {
	        "Priority"        "DOTA_ORB_PRIORITY_ITEM"
	        "ProjectileName"    "particles/items_fx/desolator_projectile.vpcf"
	        "CastAttack"      "0"
	      }
	
	      "OnOrbImpact"
	      {
	        "RunScript"
	        {
	          "ScriptFile"  "units/tower.lua"
	          "Function"    "DeathTowerOnOrbImpact"
	        }
	        
	        "FireSound"
	        {
	          "EffectName"    "Item_Desolator.Target"
	          "Target"      "TARGET"
	        }
	      }
	    }
	    "modifier_death_tower_corruption"
	    {
	      "Passive"       "0"
	      "IsHidden"        "0"
	      "IsDebuff"  "1"
	
	      "StatusEffectName"     "particles/status_fx/status_effect_armor_dazzle.vpcf"
	      "StatusEffectPriority" "9"
	      
	      "Properties"
	      {
	        "MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS"    "%armor_reduction"
	      }
	    }
	  }
	}
	"petri_upgrade_concrete"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "petri_upgrade_concrete"
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	
	  "AbilityCastPoint"        "0.0"
	
	  "AbilityGoldCost"       "50 100 125 150 175 200 250 500 750 800 900 1100 1700 2500"
	  "AbilityChannelTime"      "2.6 2.7 2.8 2.9 3.0 3.1 3.2 3.3 3.4 3.5 3.6 3.7 3.8 3.9"
	
	  "MaxLevel"            "15"
	
	  "AbilitySpecial"
	  {
	    "01"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "lumber_cost"        "2500 5000 8500 11500 16000 21000 27500 36000 50000 75000 100000 120000 150000 190000"
	    }
	
	    "02"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "bonus_armor"  "45 90 180 270 360 450 660 1100 1500 1900 2300 2700 3200 4000"
	    }
	    "03"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "aura_range"  "5000"
	    }
	  }
	
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "StartUpgrading"
	      "Permanent"       "1"
	    }
	  }
	
	  "OnChannelInterrupted"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "StopUpgrading"
	      "Permanent"       "1"
	    }
	  }
	  
	  "OnChannelSucceeded"
	  {
	    "ApplyModifier"
	    {
	      "ModifierName"  "modifier_concrete_aura"
	      "Target"     "CASTER"
	    }
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "OnUpgradeSucceeded"
	      "Permanent"       "1"
	    }
	  }
	
	  "Modifiers"
	  {
	    "modifier_concrete_aura"
	    {
	      "IsHidden"        "1"
	      
	      "ThinkInterval"  "0.5"
	      "OnIntervalThink"
	      {
	        "RunScript"
	        {
	          "ScriptFile"  "units/lab.lua"
	          "Function"    "ApplyArmorAura"
	        }
	      }
	    }
	    "modifier_concrete"
	    {
	      "Passive"  "1"
	      "IsHidden" "1"
	
	      "Properties"
	      {
	        "MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS"    "1"
	      }
	    }
	  }
	}
	"petri_upgrade_earplugs"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "petri_upgrade_earplugs"
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	
	  "AbilityCastPoint"        "0.0"
	
	  "AbilityGoldCost"       "50 75 100 125 175 250 420"
	  "AbilityChannelTime"      "2.5 2.6 2.7 2.8 2.9 3.0 3.1"
	
	  "MaxLevel"            "8"
	
	  "AbilitySpecial"
	  {
	    "01"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "bonus_hp"  "4"
	    }
	  }
	
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "StartUpgrading"
	      "Permanent"       "1"
	    }
	  }
	
	  "OnChannelInterrupted"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "StopUpgrading"
	      "Permanent"       "1"
	    }
	  }
	  
	  "OnChannelSucceeded"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "units/lab.lua"
	      "Function"        "EarplugUpgrade"
	    }
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "OnUpgradeSucceeded"
	      "Permanent"       "1"
	    }
	  }
	
	  "Modifiers"
	  {
	    "modifier_earplugs"
	    {
	      "Passive"         "0"
	      "IsHidden"        "1"
	
	      "Attributes"    "MODIFIER_ATTRIBUTE_MULTIPLE | MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE | MODIFIER_ATTRIBUTE_PERMANENT"
	      
	      "Properties"
	      {
	        "MODIFIER_PROPERTY_HEALTH_BONUS" "%bonus_hp"
	      }
	    }
	  }
	}
	"petri_upgrade_earth_wall"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "earth_spirit_boulder_smash"
	
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	
	  "AbilityCastPoint"        "0.0"
	
	  "MaxLevel"            "10"
	
	  "AbilityChannelTime"      "4.0 6.0 7.0 8.5 10.0 15.0 20.0 30.0 50.0"
	  "AbilityGoldCost"       "1 10 40 100 600 700 900 1800 3000"
	
	  "precache"
	  {
	    "particle"  "particles/econ/items/effigies/status_fx_effigies/status_effect_effigy_gold_lvl2.vpcf"
	  }
	
	  "AbilitySpecial"
	  {
	    "01"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "lumber_cost"        "2000 3000 10000 30000 50000 100000 300000 500000 1000000"
	    }
	    "02"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "health_points"        "500 1000 2000 3000 4000 5000 6000 7000 8000"
	    }
	    "03"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "armor"        "63 143 180 270 1000 2000 3600 7000 10000"
	    }
	  }
	
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "StartUpgrading"
	    }
	  }
	
	  "OnChannelInterrupted"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "StopUpgrading"
	    }
	  }
	
	  "OnChannelSucceeded"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "units/wall.lua"
	      "Function"        "UpgradeEarth"
	    }
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "OnUpgradeSucceeded"
	    }
	  }
	
	  "Modifiers"
	  {
	    "modifier_wall_notification"
	    {
	      "Passive"      "1"
	      "IsHidden"      "1"
	
	      "OnAttacked"
	      {
	        "RunScript"
	        {
	          "ScriptFile"  "units/wall.lua"
	          "Function"    "Notification"
	        }
	      }
	    }
	    "modifier_armor"
	    {
	      "IsPassive"  "1"
	      "IsHidden" "1"
	
	      "Properties"
	      {
	        "MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS"    "1"
	      }
	    }
	  }
	}
	"petri_upgrade_exchange"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "petri_upgrade_exchange"
	
	  "AbilityCastPoint"        "0.0"
	
	  "AbilityManaCost"       "0"
	  "AbilityGoldCost"       "0"
	  "AbilityChannelTime"      "2.5"
	  "AbilityUpgradeGoldCost"    "0"
	
	  "AbilityGoldCost" "50"
	
	  "MaxLevel"            "2"
	
	  "AbilitySpecial"
	  {
	    "01"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "lumber_cost"        "2000"
	    }
	  }
	
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "StartUpgrading"
	      "Permanent"       "1"
	    }
	  }
	
	  "OnChannelInterrupted"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "StopUpgrading"
	      "Permanent"       "1"
	    }
	  }
	  
	  "OnChannelSucceeded"
	  {
	    "RunScript"
	    {
	      "ScriptFile"  "units/sawmill.lua"
	      "Function"    "UpgradeExchange"
	    }
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "OnUpgradeSucceeded"
	      "Permanent"       "1"
	    }
	  }
	}
	"petri_upgrade_eye"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "petri_upgrade_eye"
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	
	  "AbilityCastPoint"        "0.0"
	
	  "AbilityManaCost"       "0"
	  "AbilityGoldCost"       "1500"
	  "AbilityChannelTime"      "5.5"
	
	  "MaxLevel"  "0"
	
	  "precache"
	  {
	    "particle"  "particles/status_fx/status_effect_statue.vpcf"
	  }
	
	  "AbilitySpecial"
	  {
	    "01"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "lumber_cost"        "50000"
	    }
	  }
	
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "StartUpgrading"
	    }
	  }
	
	  "OnChannelInterrupted"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "StopUpgrading"
	    }
	  }
	  
	  "OnChannelSucceeded"
	  {
	    "ApplyModifier"
	    {
	      "ModifierName"  "modifier_upgraded_eye"
	      "Target"     "CASTER"
	    }
	    "RunScript"
	    {
	      "ScriptFile"      "units/exploration_tree.lua"
	      "Function"        "Upgrade"
	    }
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "OnUpgradeSucceeded"
	    }
	  }
	
	  "Modifiers"
	  {
	    "modifier_upgraded_eye"
	    {
	      "Passive"      "0"
	      "IsHidden"      "1"
	      "IsDebuff"      "0"
	
	      "StatusEffectName"     "particles/status_fx/status_effect_statue.vpcf"
	      "StatusEffectPriority" "9"
	
	    }
	  }
	}
	"petri_upgrade_gold_tower"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "petri_upgrade_gold_tower"
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	
	  "AbilityCastPoint"        "0.0"
	  
	  "AbilityGoldCost"       "5 10 18 29 40 53 65 80"
	
	  "AbilityManaCost"       "0"
	  
	  "AbilityChannelTime"      "1.0"
	  "AbilityUpgradeGoldCost"    "0"
	
	  "AbilityMultiOrder" "1"
	
	  "MaxLevel"            "9"
	
	  "AbilitySpecial"
	  {
	    "01"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "food_cost"        "0 2 3 3 3 3 3 4"
	    }
	    "02"
	    { 
	      "var_type"  "FIELD_INTEGER"
	      "lumber_cost" "1250 2250 4500 7000 10000 15000 20000 25000"
	    }
	  }
	
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "StartUpgrading"
	    }
	  }
	
	  "OnChannelInterrupted"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "StopUpgrading"
	    }
	  }
	
	  "OnChannelSucceeded"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "units/gold_tower.lua"
	      "Function"        "Upgrade"
	    }
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "OnUpgradeSucceeded"
	    }
	  }
	}
	"petri_upgrade_lumber"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "holdout_culling_blade"
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	
	  "AbilityCastPoint"        "0.0"
	
	  "AbilityGoldCost"       "50 100 150 225 350"
	  "AbilityChannelTime"      "2.8 2.9 3.0 3.1 3.2"
	
	  "MaxLevel"            "6"
	
	  "AbilitySpecial"
	  {
	    "01"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "bonus_lumber"  "10 20 40 60 80"
	    }
	  }
	
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "StartUpgrading"
	      "Permanent"       "1"
	    }
	  }
	
	  "OnChannelInterrupted"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "StopUpgrading"
	      "Permanent"       "1"
	    }
	  }
	  
	  "OnChannelSucceeded"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "units/lab.lua"
	      "Function"        "LumberUpgrade"
	    }
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "OnUpgradeSucceeded"
	      "Permanent"       "1"
	    }
	  }
	}
	"petri_upgrade_sawmill"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "shredder_whirling_death"
	
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	
	  "AbilityCastPoint"        "0.0"
	
	  "MaxLevel"            "3"
	
	  "AbilityChannelTime"      "4.0 5.0"
	  "AbilityGoldCost"       "0 10"
	
	  "AbilitySpecial"
	  {
	    "01"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "lumber_cost"        "1000 15000"
	    }
	  }
	
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "StartUpgrading"
	    }
	  }
	
	  "OnChannelInterrupted"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "StopUpgrading"
	    }
	  }
	  
	  "OnChannelSucceeded"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "units/sawmill.lua"
	      "Function"        "Upgrade"
	    }
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "OnUpgradeSucceeded"
	    }
	  }
	}
	"petri_upgrade_tent"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "build_petri_tent"
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	
	  "AbilityCastPoint"        "0.0"
	
	  "AbilityManaCost"       "0"
	  "AbilityGoldCost"       "0"
	  "AbilityChannelTime"      "2.5"
	  "AbilityUpgradeGoldCost"    "0"
	
	  "AbilityMultiOrder" "1"
	
	  "MaxLevel"            "4"
	
	  "AbilitySpecial"
	  {
	    "01"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "lumber_cost"        "50 100 250"
	    }
	  }
	
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "StartUpgrading"
	    }
	  }
	
	  "OnChannelInterrupted"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "StopUpgrading"
	    }
	  }
	  
	  "OnChannelSucceeded"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "units/food_building.lua"
	      "Function"        "Upgrade"
	    }
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "OnUpgradeSucceeded"
	    }
	  }
	}
	"petri_upgrade_tower_damage"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "holdout_focusfire"
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	
	  "AbilityCastPoint"        "0.0"
	
	  "AbilityGoldCost"       "80 100 110 130 150 170 190 350 450 650 850 1000 1750 3200"
	  "AbilityChannelTime"      "2.5 2.6 2.7 2.8 2.9 3.0 3.1 3.2 3.3 3.4 3.5 3.6 3.7 3.8"
	
	  "MaxLevel"            "15"
	
	  "AbilitySpecial"
	  {
	    "01"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "lumber_cost"        "1000 2000 4000 8000 12000 16000 21000 30500 40000 50000 75000 10000 20000 30000"
	    }
	
	    "02"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "bonus_damage"  "10 20 45 90 120 155 195 275 385 450 550 650 1150 2050"
	    }
	
	    "03"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "bonus_range"  "0 5 5 10 20 30 40 50 60 70 80 90 100 110"
	    }
	
	   "04"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "aura_range"  "5000"
	    }
	  }
	
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "StartUpgrading"
	      "Permanent"       "1"
	    }
	  }
	
	  "OnChannelInterrupted"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "StopUpgrading"
	      "Permanent"       "1"
	    }
	  }
	  
	  "OnChannelSucceeded"
	  {
	    "ApplyModifier"
	    {
	      "ModifierName"  "modifier_damage_aura"
	      "Target"     "CASTER"
	    }
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "OnUpgradeSucceeded"
	      "Permanent"       "1"
	    }
	  }
	
	  "Modifiers"
	  {
	    "modifier_damage_aura"
	    {
	      "IsHidden"        "1"
	
	      "ThinkInterval"  "0.5"
	      "OnIntervalThink"
	      {
	        "RunScript"
	        {
	          "ScriptFile"  "units/lab.lua"
	          "Function"    "ApplyDamageAura"
	        }
	      }
	    }
	    "modifier_damage"
	    {
	      "Passive"  "0"
	      "IsHidden" "1"
	
	      "Properties"
	      {
	        "MODIFIER_PROPERTY_PREATTACK_BONUS_DAMAGE"    "1"
	      }
	    }
	    "modifier_range"
	    {
	      "Passive"  "0"
	      "IsHidden" "1"
	
	      "Properties"
	      {
	        "MODIFIER_PROPERTY_ATTACK_RANGE_BONUS" "1"
	      }
	    }
	  }
	}
	"petri_upgrade_tower_of_evil"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "petri_upgrade_tower_of_evil"
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	
	  "AbilityCastPoint"        "0.0"
	  
	  "AbilityGoldCost"       "1000 2000 3000 4000"
	
	  "AbilityManaCost"       "0"
	  
	  "AbilityChannelTime"      "1.0"
	  "AbilityUpgradeGoldCost"    "0"
	
	  "AbilityMultiOrder" "1"
	
	  "MaxLevel"            "4"
	
	  "AbilitySpecial"
	  {
	    "01"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "lumber_cost"        "35000 70000 140000 285000"
	    }
	    "02"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "attack"        "1350 2425 4250 5900"
	    }
	    "03"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "attack_rate"        "80 120 160 200"
	    }
	  }
	
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "StartUpgrading"
	    }
	  }
	
	  "OnChannelInterrupted"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "StopUpgrading"
	    }
	  }
	
	  "OnChannelSucceeded"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "units/tower_of_evil.lua"
	      "Function"        "Upgrade"
	    }
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "OnUpgradeSucceeded"
	    }
	  }
	
	  "Modifiers"
	  {
	    "modifier_attack_speed"
	    {
	      "Passive"  "0"
	      "IsHidden" "1"
	
	      "Properties"
	      {
	        "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"    "%attack_rate"
	      }
	    }
	  }
	}
	"petri_upgrade_to_cop"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "petri_upgrade_to_cop"
	  "AbilityCastAnimation"      "ACT_DOTA_DEATH"
	
	  "AbilityGoldCost"       "50"
	
	  "MaxLevel"            "1"
	
	  "precache"
	  {
	    "particle"    "particles/units/heroes/hero_techies/techies_suicide_base.vpcf"
	  }
	
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "units/cop.lua"
	      "Function"        "SpawnCop"
	    }
	  }
	}
	"petri_upgrade_to_earth_wall"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "earth_spirit_petrify"
	
	  "AbilityCastPoint"        "0.0"
	
	  "AbilityChannelTime"      "4.0"
	
	  "MaxLevel"            "1"
	
	  "AbilitySpecial"
	  {
	    "01"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "lumber_cost"        "1000"
	    }
	  }
	
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "StartUpgrading"
	    }
	  }
	
	  "OnChannelInterrupted"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "StopUpgrading"
	    }
	  }
	  
	  "OnChannelSucceeded"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "OnUpgradeSucceeded"
	    }
	    "RunScript"
	    {
	      "ScriptFile"      "units/earth_wall.lua"
	      "Function"        "UpgradeToEarthWall"
	    }
	  }
	}
	"petri_upgrade_wall"
	{
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
	  "BaseClass"           "ability_datadriven"
	  "AbilityTextureName"      "petri_upgrade_wall"
	
	  "AbilityCastAnimation"      "ACT_DOTA_DISABLED"
	
	  "AbilityCastPoint"        "0.0"
	
	  "MaxLevel"            "13"
	
	  "AbilityChannelTime"      "4.0 6.0 7.0 8.5 10.0 15.0 20.0 30.0 50.0 80.0 95.0 105.0"
	  "AbilityGoldCost"       "0 11 60 120 170 690 900 1200 2550 4000 5500 7750"
	
	  "precache"
	  {
	    "particle"  "particles/econ/items/effigies/status_fx_effigies/status_effect_effigy_gold_lvl2.vpcf"
	  }
	
	  "AbilitySpecial"
	  {
	    "01"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "lumber_cost"        "500 1000 2000 4000 6000 12000 16000 20000 24000 26000 30000 50000"
	    }
	    "02"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "health_points"        "270 380 590 750 900 1300 1650 2800 4900 7850 10000 12500"
	    }
	    "03"
	    {
	      "var_type"          "FIELD_INTEGER"
	      "armor"        "125 295 820 1060 1300 1950 2575 4250 5250 7000 9750 11000"
	    }
	  }
	
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "StartUpgrading"
	    }
	  }
	
	  "OnChannelInterrupted"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "StopUpgrading"
	    }
	  }
	
	  "OnChannelSucceeded"
	  {
	    "RunScript"
	    {
	      "ScriptFile"      "units/wall.lua"
	      "Function"        "Upgrade"
	    }
	    "RunScript"
	    {
	      "ScriptFile"      "internal/util.lua"
	      "Function"        "OnUpgradeSucceeded"
	    }
	  }
	
	  "Modifiers"
	  {
	    "modifier_roshan_gold"
	    {
	      "Passive"      "0"
	      "IsHidden"      "1"
	      "IsDebuff"      "0"
	    
	      "StatusEffectName"     "particles/econ/items/effigies/status_fx_effigies/status_effect_effigy_gold_lvl2.vpcf"      
	      "StatusEffectPriority"  "10"
	    }
	    "modifier_wall_notification"
	    {
	      "Passive"      "1"
	      "IsHidden"      "1"
	
	      "OnAttacked"
	      {
	        "RunScript"
	        {
	          "ScriptFile"  "units/wall.lua"
	          "Function"    "Notification"
	        }
	      }
	    }
	    "modifier_armor"
	    {
	      "IsPassive"  "1"
	      "IsHidden" "1"
	
	      "Properties"
	      {
	        "MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS"    "1"
	      }
	    }
	  }
	}
	"petri_wall_glyph"
	{
	  "BaseClass"           "ability_datadriven"
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IGNORE_CHANNEL | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_AOE"
	  "AbilityTextureName"      "petri_wall_glyph"
	  "AOERadius"                     "%radius"
	
	  "AbilityCastPoint"              "0"
	  "AbilityCooldown"       "0"
	  "AbilityManaCost"       "0"
	
	  "MaxLevel" "12"
	
	  "precache"
	  {
	    "particle"  "particles/items_fx/aegis_lvl_1000_ambient.vpcf"
	  }
	
	  "AbilitySpecial"
	  {
	    "01"
	    {
	      "var_type"        "FIELD_INTEGER"
	      "armor_bonus"     "150 175 200 225 250 1200 5000 5250 5500 5750 6000 6500"
	    }
	    "02"
	    {
	      "var_type"        "FIELD_INTEGER"
	      "radius"     "1000"
	    }
	    "03"
	    {
	      "var_type"        "FIELD_INTEGER"
	      "duration"     "10 6 6 6 6 6 6 5 5 5 5 5"
	    }
	    "04"
	    {
	      "var_type"        "FIELD_INTEGER"
	      "max_charges"     "2"
	    }
	    "05"
	    {
	      "var_type"        "FIELD_INTEGER"
	      "time"     "120"
	    }
	  }
	
	  "OnUpgrade"
	  {
	    "RunScript"
	    {
	      "ScriptFile"            "units/wall.lua"
	      "Function"              "GlyphStartCharge"
	      "modifier_name"         "modifier_glyph_stack_counter"
	    }
	  }
	
	  "OnSpellStart"
	  {     
	    "RunScript"
	    {
	      "ScriptFile"  "units/wall.lua"
	      "Function"    "ApplyBonusArmor"
	      "modifier_name"         "modifier_glyph_stack_counter"
	    }
	  }
	
	  "Modifiers"
	  {
	    "modifier_glyph_stack_counter"
	    {
	      "Passive"               "1"
	      "IsHidden"              "0"
	      "IsPurgable"            "0"
	      "IsDebuff"              "0"
	    }
	    "modifier_glyph_tooltip"
	    {
	        "IsPurgable"    "0"
	        "IsDebuff"      "0"
	    }
	    "modifier_glyph"
	    {
	      "Duration"                "%duration"
	      "Passive"         "0"
	      "IsHidden"          "0"
	      "IsBuff"          "1"
	      "IsDebuff"          "0"
	      "IsPurgable"        "0"
	      "EffectName"            "particles/items_fx/aegis_lvl_1000_ambient.vpcf"
	      "EffectAttachType"      "follow_origin"
	          
	      "Properties"
	      {
	        "MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS"    "%armor_bonus"
	      }
	    }
	  }
	}
	"return_resources"
	{
	  "BaseClass"                 "ability_datadriven"
	  "AbilityTextureName"      "return_resources"
	  "MaxLevel"            "1"
	
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_HIDDEN" //Fake Toggle
	
	  "OnSpellStart"
	  {
	    "ApplyModifier"
	    {
	      "ModifierName"  "modifier_returning_resources"
	      "Target"    "CASTER"
	    }
	
	    "RunScript"
	    {
	      "ScriptFile"  "units/peasant.lua"
	      "Function"    "ReturnResources"
	    }
	  }
	
	  "Modifiers"
	  {
	    "modifier_returning_resources_on_order_cancel"
	    {
	      "IsHidden"        "1"
	
	      "ThinkInterval"  "0.03"
	      "OnIntervalThink"
	      {
	        "RunScript"
	        {
	          "ScriptFile"  "units/peasant.lua"
	          "Function"    "CheckBuildingPosition"
	        }
	      }
	
	      "OnOrder"
	      {
	        "RunScript"
	        {
	          "ScriptFile"  "units/peasant.lua"
	          "Function"    "ToggleOffReturn"
	        }
	      }  
	    }
	    "modifier_returning_resources"
	    {
	      "IsHidden"        "0"
	      "TextureName"     "furion_sprout"
	    }
	  }
	} 
	"train_petri_peasant"
	{
	  "BaseClass"                 "ability_datadriven"
	  "AbilityTextureName"      "train_petri_peasant"
	  "MaxLevel"            "1"
	
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_AUTOCAST | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_IGNORE_CHANNEL"
	
	  "AbilityGoldCost"       "6"
	  "AbilityChannelTime"      "4"
	  "AbilityUpgradeGoldCost"    "0"
	
	  "AbilitySpecial"
	  {
	    "01"
	    { 
	        "var_type"  "FIELD_INTEGER"
	        "food_cost" "20"
	    }
	  }
	  
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"  "buildings/queue.lua"
	      "Function"    "EnqueueUnit"
	      "food" "%food_cost"
	    }
	  }
	
	  "OnChannelSucceeded"
	  {
	    // Consume the first item in the queue
	    "RunScript"
	    {
	      "ScriptFile"    "buildings/queue.lua"
	      "Function"      "NextQueue"
	    }
	
	    "SpawnUnit"
	    {
	      "UnitName"    "npc_petri_peasant"
	
	      "UnitCount"   "1"
	      "UnitLimit"   "0"
	      "GrantsGold"  "1"
	      "GrantsXP"    "1"
	      "SpawnRadius" "10"
	      "OnSpawn"
	      {
	        "ApplyModifier"
	        {
	          "ModifierName"  "modifier_phased"
	          "Target"    "TARGET"
	          "Duration"    "0.03"
	        }
	
	        "RunScript"
	        {
	          "ScriptFile"    "buildings/queue.lua"
	          "Function"      "SetOwner"
	          "food" "%food_cost"
	        }
	      }
	    }
	  }
	
	  "Modifiers"
	  {
	    "modifier_building_autocast"
	    {
	      "Passive"     "1"
	      "IsHidden"      "1"
	      "Attributes"    "MODIFIER_ATTRIBUTE_MULTIPLE"
	    
	      "ThinkInterval"   "0.03"
	      "OnIntervalThink"
	      {
	        "RunScript"
	        {
	          "ScriptFile"    "buildings/autocast.lua"
	          "Function"      "BuildingAutocast"
	        }
	      }
	    }
	  }
	}
	"train_petri_super_peasant"
	{
	  "BaseClass"                 "ability_datadriven"
	  "AbilityTextureName"      "train_petri_super_peasant"
	  "MaxLevel"            "1"
	
	  "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_AUTOCAST | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_IGNORE_CHANNEL"
	
	  "AbilityGoldCost"       "40"
	  "AbilityChannelTime"      "4"
	  "AbilityUpgradeGoldCost"    "0"
	
	  "AbilitySpecial"
	  {
	    "01"
	    { 
	        "var_type"  "FIELD_INTEGER"
	        "food_cost" "5"
	    }
	  }
	  
	  "OnSpellStart"
	  {
	    "RunScript"
	    {
	      "ScriptFile"  "buildings/queue.lua"
	      "Function"    "EnqueueUnit"
	      "food" "%food_cost"
	    }
	  }
	
	  "OnChannelSucceeded"
	  {
	    // Consume the first item in the queue
	    "RunScript"
	    {
	      "ScriptFile"    "buildings/queue.lua"
	      "Function"      "NextQueue"
	    }
	
	    "SpawnUnit"
	    {
	      "UnitName"    "npc_petri_super_peasant"
	
	      "UnitCount"   "1"
	      "UnitLimit"   "0"
	      "GrantsGold"  "1"
	      "GrantsXP"    "1"
	      "SpawnRadius" "10"
	      "OnSpawn"
	      {
	        "ApplyModifier"
	        {
	          "ModifierName"  "modifier_phased"
	          "Target"    "TARGET"
	          "Duration"    "0.03"
	        }
	
	        "RunScript"
	        {
	          "ScriptFile"    "buildings/queue.lua"
	          "Function"      "SetOwner"
	          "food" "%food_cost"
	        }
	      }
	    }
	  }
	
	  "Modifiers"
	  {
	    "modifier_building_autocast"
	    {
	      "Passive"     "1"
	      "IsHidden"      "1"
	      "Attributes"    "MODIFIER_ATTRIBUTE_MULTIPLE"
	    
	      "ThinkInterval"   "0.03"
	      "OnIntervalThink"
	      {
	        "RunScript"
	        {
	          "ScriptFile"    "buildings/autocast.lua"
	          "Function"      "BuildingAutocast"
	        }
	      }
	    }
	  }
	}
}